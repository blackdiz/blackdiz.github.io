[{"title":"Higher Order Function å°è¨˜","date":"","description":"","body":"åœ¨ Functional Programming (å‡½å¼ç¨‹å¼è¨­è¨ˆ) çš„ä¸–ç•Œä¸­ï¼Œfunction (å‡½å¼) æœ¬èº«å¯ä»¥æ¥å—å¦ä¸€å€‹ function çš„åšç‚ºåƒæ•¸ï¼Œæˆ–æ˜¯è¿”å›ä¸€å€‹ function åšç‚ºå›å‚³å€¼ï¼Œé€™å°±æ˜¯æ‰€è¬‚ Higher Order Functionã€‚\nä»¥ JavaScript ç‚ºä¾‹ï¼Œæ¯”æ–¹æˆ‘å€‘æƒ³åœ¨æ¯æ¬¡åŸ·è¡Œ function æ™‚é™„å¸¶åŸ·è¡Œ 1 å€‹ functionï¼Œæˆ‘å€‘å¯ä»¥æŠŠè¦é™„å¸¶åŸ·è¡Œçš„ function åšç‚ºåƒæ•¸å‚³å…¥ï¼š\nlet f = function() { console.log(\u0026#34;I\u0026#39;m callback\u0026#34;); } // é€™è£¡ callback function åšç‚ºåƒæ•¸å‚³å…¥ function add(a, b, callback) { // æ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨ a + b ä¹‹å‰åŸ·è¡Œå‚³å…¥çš„ function  callback(); return a + b } let sum = add(3, 4, f); console.log(sum); æœƒå°å‡ºï¼š\nI'm callback 7 å¦ä¸€æ–¹é¢æˆ‘å€‘ä¹Ÿå¯ä»¥å›å‚³ functionï¼Œé€™è£¡çš„ addThree() å›å‚³ä¸€å€‹ function æ˜¯æ¥å—ä¸€å€‹åƒæ•¸ x å›å‚³ x + 3ï¼Œæ‰€ä»¥ sum(4)ï¼Œæœƒå¾—åˆ° 7ï¼š\nfunction addThree() { return function(x) { return x + 3; } } /* * sum = function (x) { * return x + 3; * } */ let sum = addThree(); å› æ­¤æœƒå°å‡ºï¼š\n7 æ‡‰ç”¨ åœ¨ FP çš„ä¸–ç•Œä¸­ï¼Œæˆ‘å€‘å¯ä»¥æŠŠ function ç”¨ Higher Order Function åšçµ„åˆï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥æŠŠå¸¸è¦‹çš„åŸ·è¡Œæµç¨‹æŠ½è±¡æˆ functionï¼ŒæŠŠåŸ·è¡Œé‚è¼¯åšç‚º function å‚³å…¥ã€‚å¸¸è¦‹çš„æœ‰ forEachã€mapã€filterã€reduce ç­‰æµç¨‹ functionã€‚\nforEach æˆ‘å€‘å¾ˆå¸¸åœ¨ç¨‹å¼ä¸­åšçš„æµç¨‹ä¹‹ä¸€å°±æ˜¯ç”¨è¿´åœˆå°ä¸€é€£ä¸²è³‡æ–™æ¯”æ–¹ Array æˆ– List ä¸­çš„å…ƒç´ ä¸€å€‹å€‹é€²è¡Œæ“ä½œï¼Œæ‰€ä»¥é€™å€‹è¿´åœˆæµç¨‹å°±å¯ä»¥æŠ½è±¡æˆä¸€å€‹ functionï¼Œè€ŒåŸ·è¡Œçš„æµç¨‹å¾ˆç°¡å–®ï¼šå°å‚³å…¥çš„ä¸€é€£ä¸²è³‡æ–™ä¸­ (æ¯”æ–¹ Array æˆ– List) çš„ä¸€å€‹å€‹å…ƒç´ å°å…¶åŸ·è¡Œå‚³å…¥çš„ functionï¼š\nfunction print(x) { console.log(x); } [1, 2, 3].forEach((i) =\u0026gt; print(i)); ä¸Šé¢çš„ç¨‹å¼ä¸­æœƒåˆ†åˆ¥å° Array ä¸­çš„ 1ã€2ï¹‘3 åˆ†åˆ¥åŸ·è¡Œ print function æ‰€ä»¥æœƒå°å‡ºï¼š\n1 2 3 è€Œé€šå¸¸æˆ‘å€‘å¯ä»¥å‚³å…¥ä¸€å€‹ anonymous function (åŒ¿åå‡½å¼)ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨å…ˆå®£å‘Šå¥½ function ç›´æ¥å‚³å…¥ functionï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥æŠŠä¸Šé¢çš„ç¨‹å¼æ”¹å¯«æˆï¼š\n// anonymous function å¯ä»¥ä¸ç”¨å®£å‘Šåå­— [1, 2, 3].forEach(function(i) { console.log(i); }); // åœ¨ JavaScript ä¸­å¯ä»¥ç”¨ arrow function (ç®­é ­å‡½å¼) è®“ç¨‹å¼æ›´ç°¡æ½” [1, 2, 3].forEach((i) =\u0026gt; console.log(i)); map å¦‚æœä»Šå¤©æˆ‘å€‘å‚³å…¥çš„ function æ˜¯æƒ³è¦æŠŠè³‡æ–™æ“ä½œå¾Œå†å›å‚³ï¼Œæ¯”æ–¹æˆ‘å€‘æƒ³æŠŠ [1, 2, 3] ä¸­çš„å…ƒç´ æ¯å€‹éƒ½ä¹˜ä¸Š 3ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ forEach ä¾†å®Œæˆï¼š\n// ç”¨ä¾†å„²å­˜ä¹˜ 3 å¾Œçš„çµæœ let newArray = []; [1, 2, 3].forEach((i) =\u0026gt; { newArray.push(i * 3) }); newArray.forEach((i) =\u0026gt; console.log(i)); é€™æ¨£æœƒå°å‡ºï¼š\n3 6 9 ä½†å› ç‚ºé€™ç¨®æ“ä½œå…¶å¯¦ä¹Ÿå¾ˆå¸¸è¦‹ï¼Œæ‰€ä»¥å°±æœ‰ map é€™å€‹ functionï¼Œå…¶åŸ·è¡Œæµç¨‹ç‚ºï¼šå°å…ƒç´ åŸ·è¡Œå‚³å…¥çš„ function ä¸¦å›å‚³åŸ·è¡Œå¾Œçš„æ–°å…ƒç´ çš„åˆ—è¡¨ (ä»¥ JavaScript ä¾†èªªæ˜¯ Array )ã€‚\nå› æ­¤ä¸Šé¢ forEach ç‰ˆæœ¬å¯ä»¥æ”¹å¯«æˆï¼š\n/* å› ç‚º map å›å‚³çš„æ˜¯åŸ·è¡Œå¾Œçš„æ–°å…ƒç´ çš„ Array ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨å¦å¤–å»ºç«‹æ–°çš„ Array ä¾†å„²å­˜ã€‚ * å¦å¤–å› ç‚ºåœ¨ arrow function ä¸­å¦‚æœåªæœ‰ä¸€è¡Œç¨‹å¼æ¯”æ–¹ä¸‹é¢ i * 3ï¼Œå‰‡å¯ä»¥ä¸ç”¨ {} åŒ…ä½ï¼Œä¸”é è¨­æœƒå›å‚³åŸ·è¡Œå¾Œçš„ * çµæœï¼Œæ‰€ä»¥ä¸‹é¢çš„ç¨‹å¼ç›¸åŒæ–¼ï¼š * let newArray = [1, 2, 3].map((i) { * return i * 3 * }); */ let newArray = [1, 2, 3].map((i) =\u0026gt; i * 3); newArray.forEach((i) =\u0026gt; console.log(i)); filter å¦ä¸€å€‹å¾ˆå¸¸è¦‹çš„é‚è¼¯æ˜¯ï¼Œæˆ‘å€‘éœ€è¦éæ¿¾å…ƒç´ ï¼Œæ¯”æ–¹æˆ‘å€‘æƒ³è¦éæ¿¾æ‰ [1, 2, 3] ä¸­æ¯” 2 å°çš„å…ƒç´ ï¼Œå¦‚æœç”¨ forEach çš„è©±å¯ä»¥å¯«æˆï¼š\nlet newArray = []; [1, 2, 3].forEach((i) =\u0026gt; { if (i \u0026gt; 1) { newArray.push(i); } }); newArray.forEach((i) =\u0026gt; console.log(i)); é€™æ¨£æœƒå°å‡ºï¼š\n2 3 ä½†æˆ‘å€‘å¯ä»¥ç”¨ filter æ”¹å¯«ï¼Œfilter çš„åŸ·è¡Œé‚è¼¯æ˜¯ï¼šå‚³å…¥ä¸€å€‹ functionï¼Œè©² function å°å…ƒç´ åŸ·è¡Œå¾Œå›å‚³çš„æ˜¯ true æˆ– falseï¼Œæ ¹æ“šå›å‚³çš„å€¼ï¼Œå¦‚æœæ˜¯ true å°±æ”¾å…¥å›å‚³çš„åˆ—è¡¨ä¸­ï¼Œå¦‚æœæ˜¯ false å°±ç•¥éã€‚ æ¯”æ–¹ä¸Šé¢çš„ç¨‹å¼æˆ‘å€‘å¯ä»¥æ”¹å¯«æˆï¼š\nlet newArray = [1, 2, 3].filter((i) =\u0026gt; i \u0026gt; 1); newArray.forEach((i) =\u0026gt; console.log(i)); reduce æœ‰æ™‚å€™æˆ‘å€‘æœƒæƒ³å°æ“ä½œå®Œçš„å…ƒç´ å†åšçµ±æ•´çš„è™•ç†ï¼Œæ¯”æ–¹æˆ‘å€‘æƒ³å° [1, 2, 3] çš„æ¯å€‹æ•¸å­—ä¹˜ 3 å¾Œå†å…¨éƒ¨åŠ ç¸½ï¼Œå¦‚æœç”¨ forEach çš„å¯«æ³•æœƒæ˜¯ï¼š\nlet sum = 0; [1, 2, 3].forEach((i) =\u0026gt; { i = i * 3; sum = sum + i; }); console.log(sum); é€™æ¨£æœƒå°å‡º 18ã€‚ è€Œé€™å€‹æ“ä½œå¯ä»¥ç”¨ reduce å–ä»£ï¼Œreduce æˆ‘æ„Ÿè¦ºæ˜¯æ¯”ä¹‹å‰çš„å¹¾å€‹ function è¤‡é›œï¼Œä¹Ÿæ¯”è¼ƒé›£ç”¨æ–‡å­—æè¿°ï¼ŒMDN ä¸Šçš„ reduce çš„èªªæ˜æ˜¯ï¼š\n reduce() æ–¹æ³•å°‡ä¸€å€‹ç´¯åŠ å™¨åŠ Array ä¸­æ¯é …å…ƒç´ ï¼ˆç”±å·¦è‡³å³ï¼‰å‚³å…¥å›å‘¼å‡½å¼ï¼Œå°‡ Array åŒ–ç‚ºå–®ä¸€å€¼ã€‚\n åŸºæœ¬ä¸Šæˆ‘è¦ºå¾—å…‰çœ‹æ–‡å­—æ‡‰è©²æ˜¯çœ‹ä¸æ‡‚åœ¨èªªä»€éº¼ï¼Œæ‰€ä»¥æˆ‘å€‘ç›´æ¥é€é API èªªæ˜æ­é…ä¸Šé¢çš„ä¾‹å­ä¾†è§£é‡‹å¯èƒ½æ¯”è¼ƒæ¸…æ¥šã€‚ reduce çš„ API æ˜¯\n arr.reduce(callback[accumulator, currentValue, currentIndex, array], initialValue)\n æ¥ä¸‹ä¾†æˆ‘å€‘å€‹åˆ¥å¥—åˆ°ä¸Šé¢çš„ä¾‹å­ä¸­ä¾†çœ‹ï¼Œé¦–å…ˆ arr å°±æ˜¯ç›®æ¨™è¦æ“ä½œçš„ Array ï¼Œåœ¨é€™è£¡æ˜¯ [1, 2, 3]ï¼Œé€™æ‡‰è©²æ²’ä»€éº¼å•é¡Œã€‚\næ¥ä¸‹ä¾† reduce çš„åƒæ•¸å°±æ¯”è¼ƒè¤‡é›œï¼Œå…ˆèªª initialValueï¼ŒinitialValue æŒ‡çš„æ˜¯åˆå§‹å€¼ï¼Œä¹Ÿå°±æ˜¯ç•¶ callback ç¬¬ä¸€æ¬¡åŸ·è¡Œæ™‚å¯ä»¥å‚³å…¥ initialValue ä½¿ç”¨ã€‚æ‰€ä»¥å¦‚æœæ‡‰ç”¨åˆ°ä¸Šé¢çš„ä¾‹å­çš„è©±ï¼Œæˆ‘å€‘çš„ç›®çš„æ˜¯æƒ³æŠŠæ¯å€‹å…ƒç´ åŠ åˆ° sumï¼Œè€Œ sum ä¸€é–‹å§‹æ˜¯ 0ï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥å‚³å…¥ 0 åšç‚º initialValue\nè€Œ callback æ˜¯é‡å°å…ƒç´ è¦åŸ·è¡Œçš„ functionï¼Œæ‰€ä»¥åœ¨é€™é‚Šæˆ‘å€‘çš„ callback ä¸­è¦å°æ¯å€‹å…ƒç´ ä¹˜ 3 è€Œ callback æœ¬èº«èƒ½æ¥å—çš„åƒæ•¸æœ‰ï¼š\n accumulatorï¼šé€™æ˜¯æŒ‡ç´¯åŠ å€¼ï¼Œæ¯æ¬¡é‡å°ä¸€å€‹å…ƒç´ åŸ·è¡Œå®Œ callback å¾ŒæœƒæŠŠå›å‚³å€¼å‚³å…¥ä¸‹æ¬¡åŸ·è¡Œ callback æ™‚çš„ accumulatorï¼Œè€Œåœ¨ç¬¬ä¸€æ¬¡åŸ·è¡Œæ™‚å¦‚æœæœ‰å‚³å…¥ initialValue çš„è©±å°±æœƒæ˜¯ initialValue çš„å€¼ã€‚åœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­ï¼Œæˆ‘å€‘æƒ³æŠŠæ¯å€‹å…ƒç´ åŠ åˆ° sum ä¸­ï¼Œæ‰€ä»¥æˆ‘å€‘å°‡ 0 åšç‚º initialValue å‚³å…¥ï¼Œè€Œåœ¨æ¯æ¬¡åŠ å®Œå…ƒç´ å¾Œçš„ç¸½å’Œå°±æœƒåšç‚º accumulator å‚³å…¥ä¸‹æ¬¡ callback çš„åŸ·è¡Œ currentValueï¼šé€™æ˜¯æŒ‡åŸ·è¡Œ callback ç•¶ä¸‹æ™‚çš„ç›®æ¨™å…ƒç´ ï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­ç¬¬ä¸€æ¬¡åŸ·è¡Œç‚ºå°±æœƒæ˜¯ 1ï¼Œç¬¬äºŒæ¬¡æœƒæ˜¯ 2 currentIndexï¼šåŸ·è¡Œ callback ç•¶ä¸‹æ™‚ç›®æ¨™å…ƒç´ çš„ indexï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­ç¬¬ä¸€æ¬¡åŸ·è¡Œç‚ºå°±æœƒæ˜¯ 0ï¼Œç¬¬äºŒæ¬¡æœƒæ˜¯ 1ï¼Œå¯ä»¥ä¸å‚³å…¥ï¼Œåœ¨æˆ‘å€‘çš„ä¾‹å­ä¸éœ€è¦ä½¿ç”¨ arrayï¼šå‘¼å« reduce çš„ Array ï¼Œåœ¨é€™å€‹ä¾‹å­ä¸­ç‚º [1, 2, 3]ï¼Œå¯ä»¥ä¸å‚³å…¥ï¼Œåœ¨æˆ‘å€‘çš„ä¾‹å­ç”¨ä¸åˆ°  æ‰€ä»¥é€™æ¨£å¥—å®Œå¾Œï¼Œæˆ‘å€‘å¯ä»¥ç”¨ reduce æ”¹å¯«æˆï¼š\nlet total = [1, 2, 3].reduce((sum, i) =\u0026gt; { return sum * 3 + i; }, 0); console.log(total); æˆ‘å€‘å¯ä»¥æŠŠ callback åŸ·è¡Œéç¨‹æ‹†é–‹ä¾†çœ‹æœƒæ›´æ¸…æ¥šï¼Œç¬¬ä¸€æ¬¡åŸ·è¡Œ callback æ™‚æœƒåŸ·è¡Œåƒæ˜¯é€™æ¨£çš„ functionï¼š\nfunction(0, 1) { return 0 * 3 + 1; } 0 æ˜¯æˆ‘å€‘å‚³å…¥çš„ initialValue å› ç‚ºæ˜¯ç¬¬ä¸€æ¬¡åŸ·è¡Œæ‰€ä»¥æœƒè®Šæˆ callback çš„ç¬¬ä¸€å€‹åƒæ•¸ accumulatorï¼Œè€Œ 1 å°±æ˜¯ç•¶ä¸‹è™•ç†çš„å…ƒç´ ã€‚\nç¬¬äºŒæ¬¡åŸ·è¡Œæ™‚æœƒæŠŠç¬¬ä¸€æ¬¡åŸ·è¡Œçš„å›å‚³å€¼ 1 åšç‚º accumulator å‚³å…¥ callbackï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡çš„ function æœƒæ˜¯ï¼š\nfunction(1, 2) { return 1 * 3 + 2; } ç¬¬ä¸‰æ¬¡åŸ·è¡Œå‰‡æŠŠç¬¬äºŒæ¬¡åŸ·è¡Œçš„å›å‚³å€¼ 5 å‚³å…¥ï¼Œå› æ­¤ç¬¬ä¸‰æ¬¡çš„ function æœƒæ˜¯ï¼š\nfunction(5, 3) { return 5 * 3 + 3; } åœ¨åŸ·è¡Œå®Œç¬¬ä¸‰æ¬¡å¾Œå› ç‚ºæ²’æœ‰å…ƒç´ äº†ï¼Œæ‰€ä»¥å›å‚³æœ€çµ‚çµæœ 18ã€‚\né™¤äº†é€™äº›ä»¥å¤–é‚„æœ‰å¾ˆå¤šå…¶ä»–çš„æµç¨‹å‹ functionï¼Œæ¯”æ–¹åœ¨ JavaScript ä¸­æœ‰ find å‚³å…¥ä¸€å€‹å›å‚³å€¼ç‚º boolean çš„ function ä¸¦å›å‚³ç¬¬ä¸€å€‹ç¬¦åˆ true çš„å…ƒç´ ï¼Œsome å‚³å…¥å›å‚³å€¼ç‚º boolean çš„ function ä¸¦å›å‚³ boolean å¦‚æœç‚º true è¡¨ç¤ºè‡³å°‘æœ‰ä¸€å€‹å…ƒç´ æœƒè®“å‚³å…¥ function å›å‚³ trueã€‚\nå›å‚³ function ä¸Šé¢æåˆ°çš„éƒ½æ˜¯å°‡ function åšç‚ºåƒæ•¸å‚³å…¥å¦ä¸€å€‹ function ä¸­å¯åšçš„æ‡‰ç”¨ï¼Œè€Œæ‡‰ç”¨å¯å›å‚³ function çš„ç‰¹æ€§æˆ‘å€‘å°±å¯ä»¥ä¾æ“šä¸åŒåƒæ•¸ç”¢ç”Ÿæ–°çš„ functionã€‚\næ¯”æ–¹æˆ‘å€‘ä»Šå¤©æƒ³è¦å»ºç«‹ä¸€å€‹å‚³å…¥æ•¸å­— a å¾Œå›å‚³ a + 3 çš„ functionï¼Œé€™å¾ˆç°¡å–®ï¼š\nfunction addThree(a) { return a + 3; } ç„¶å¾Œæˆ‘å€‘æƒ³è¦æ–°çš„åŠ  4 çš„ functionï¼Œé€™ä¹Ÿå¾ˆç°¡å–®ï¼š\nfunction addFour(a) { return a + 4; } ä½†å¦‚æœæˆ‘å€‘æƒ³è¦èƒ½ç”¢ç”Ÿ a åŠ ä¸Šä»»æ„æ•¸å­—çš„ functionï¼Œç¸½ä¸èƒ½ä¸€ä¸€å»å®£å‘Šï¼Œé€™æ™‚å°±å¯ä»¥ç”¨ä¸Šé€™å€‹ç‰¹æ€§ï¼š\nfunction addNumber(b) { return function(a) { return a + b; }; } let addThree = addNumber(3); console.log(addThree(4)); // æ­¤è¡Œå°å‡º 7  let addFive = addNumber(5); console.log(addFive(5)); // æ­¤è¡Œå°å‡º 10 addNumber(b) é€™å€‹ function æ‰€åšçš„æ˜¯å°‡å‚³å…¥çš„ b çš„å€¼ç¶å®šåˆ°è¦å›å‚³çš„ function å…§éƒ¨çš„ b ä¸­å†å›å‚³ï¼Œæ‰€ä»¥ addNumber(3) æœƒå¾—åˆ°ï¼š\nfunction(a) { return a + 3; } è€Œ addNubmer(5) å‰‡æœƒå¾—åˆ°ï¼š\nfunction(a) { return a + 5; } ä¸Šè¿°çš„æ‡‰ç”¨ç¨±ç‚º Partial Application ä¹Ÿå°±æ˜¯æˆ‘å€‘å¯ä»¥å°‡ function ä¸­çš„æŸäº›åƒæ•¸çµ¦äºˆå›ºå®šå€¼ä¾†å¾—åˆ°æ–°çš„ functionï¼Œæ–°çš„ function åªéœ€çµ¦äºˆå‰©ä¸‹çš„å°šæœªçµ¦å€¼çš„åƒæ•¸ï¼Œå¦‚æ­¤æˆ‘å€‘å°±å¯ä»¥åšæ›´å¤šæŠ½è±¡åŒ–ä¾†æ¸›å°‘ç¨‹å¼ç¢¼çš„é‡è¤‡ã€‚å¦ä¸€å€‹ä¾‹å­ï¼Œæ¯”æ–¹æˆ‘å€‘å¯ä»¥å¯«ä¸€å€‹ functionï¼š\nfunction url(scheme, host, path) { return function(path) { return scheme + \u0026#34;://\u0026#34; + host + \u0026#34;/\u0026#34; + path; }; } æˆ‘å€‘å¯ä»¥ä½¿ç”¨é€™å€‹ function ç”¢ç”Ÿ function twitter(path) å’Œ function facebook(path)ï¼Œåªè¦å‚³å…¥ path å°±å¯ä»¥å¾—åˆ° https://www.twitter.com/{path} æˆ– https://www.facebook.com/{path}ï¼š\nlet twitter = url(\u0026#34;https\u0026#34;, \u0026#34;www.twitter.com\u0026#34;); console.log(twitter(\u0026#34;user\u0026#34;)); // å°å‡º https://www.twitter.com/user  let facebook = url(\u0026#34;https\u0026#34;, \u0026#34;www.facebook.com\u0026#34;) console.log(facebook(\u0026#34;posts\u0026#34;)); // å°å‡º https://www.facebook.com/posts å¦ä¸€å€‹å¯èƒ½çš„ç°¡å–®æ‡‰ç”¨æ˜¯æˆ‘å€‘å¯ä»¥æŠŠè®€å–æª”æ¡ˆçš„ç¨‹å¼å’Œè™•ç†æª”æ¡ˆçš„ç¨‹å¼åˆ†é–‹ï¼š\nfunction readFile(callback) { let data = read(\u0026#34;{path}\u0026#34;) // å‡ä½¿ read æ˜¯è®€å– path è·¯å¾‘çš„æª”æ¡ˆ  return function(data) { callback(data); }; } // å¦‚æ­¤ printFile æœƒåœ¨è®€å–æª”æ¡ˆå¾Œå°å‡ºå®ƒçš„å…§å®¹ let printFile = readFile((data) =\u0026gt; { console.log(data); }) å¦‚æ­¤ä¸€ä¾†ï¼Œæˆ‘å€‘å°±å¯ä»¥é‡å¾©ä½¿ç”¨è®€å–æª”æ¡ˆçš„ç¨‹å¼ï¼Œåªéœ€è¦å‚³å…¥ä¸åŒçš„è™•ç†é‚è¼¯å°±å¯ä»¥å¾—åˆ°ä¸åŒçš„è™•ç†æª”æ¡ˆæ–¹å¼ã€‚\nçµèª ä¸Šè¿°é›–ç„¶æ˜¯ä»¥ JavaScript åšç‚ºä¾‹å­ï¼Œä½†ä¸»è¦æ˜¯æè¿° Higer Order Function çš„æ¦‚å¿µï¼Œå…¶ä»–èªè¨€å¯èƒ½èªæ³•ä¸åŒï¼Œä½†åŸºæœ¬æ¦‚å¿µç›¸åŒï¼Œåœ¨ç¾åœ¨å¤§å¤šæ•¸èªè¨€éƒ½æ”¯æ´å¤šç¯„å¼ä¸‹ï¼Œé€šå¸¸ä¹Ÿæ”¯æ´ç¨‹åº¦ä¸ä¸€çš„ Functional Programmingï¼Œæ¯”æ–¹ Java é›–ç„¶æ˜¯ Object Oriented Programming (ç‰©ä»¶å°å‘èªè¨€ OOP) ä½†åœ¨ Java 8 å¾Œä¹ŸåŠ å…¥äº† Functional Programming çš„æ¦‚å¿µè®“æˆ‘å€‘ä¸å¿…åƒå¾å‰ä¸€æ¨£ä»»ä½•å¯¦ä½œé‚è¼¯éƒ½å¿…é ˆå…ˆå®£å‘Šæˆ class è€Œè®“æˆ‘å€‘å¯ä»¥å¯«å‡ºæ›´ç°¡æ½”åŒæ™‚æ˜“è®€æ€§æ›´é«˜æ›´å°ˆæ³¨åœ¨å¯¦ä½œé‚è¼¯ä¸Šçš„ç¨‹å¼ã€‚æ­¤ç¯‡ä¸»è¦æ˜¯è¨˜éŒ„æˆ‘è‡ªå·±å° Higher Order Function çš„äº†è§£å’Œæ¯”è¼ƒå¸¸é‹ä½œçš„éƒ¨åˆ†ï¼Œé™¤äº†æ­¤ç¯‡æåˆ°çš„ä»¥å¤–é‚„æœ‰å¾ˆå¤š Higher Order Function çš„æ‡‰ç”¨ï¼Œæ¯”æ–¹å¯ä»¥æ‹¿ä¾†åš Dependency Injection (ä¾è³´æ³¨å…¥)ï¼Œæˆ–è€…æ˜¯å¯¦ç¾å¦‚ Aspect Oriented Programming (å‰–é¢å°å‘ AOP) çš„è¨­è¨ˆï¼Œæœ‰æ©Ÿæœƒçš„è©±å†ä¾†å¦å¤–è¨˜éŒ„ã€‚\n åƒè€ƒè³‡æ–™\n Wiki - é«˜éšå‡½å¼ MDN forEach MDN map MDN filter MDN reduce Curry and Function Composition  å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/higher-order-function/"},{"title":"Linux 2ã€1ã€& å’Œ ","date":"","description":"","body":"å°è¨˜ä¸€ä¸‹ command 2\u0026gt;\u0026amp;1 \u0026gt; /dev/null å’Œ command \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 çš„å·®åˆ¥ã€‚é¦–å…ˆå…ˆçœ‹ 2\u0026gt;\u0026amp;1 çš„æ„æ€ã€‚åœ¨ Linux çš„ file descriptor ä¸­ï¼Œ1 è¡¨ç¤º stdout (æ¨™æº–è¼¸å‡º) è¡¨ç¤ºç¨‹å¼åŸ·è¡Œä¸­è¼¸å‡ºè¨Šæ¯çš„åœ°æ–¹ï¼Œé è¨­ç‚º terminalã€‚è€Œ 2 è¡¨ç¤º stderr (æ¨™æº–éŒ¯èª¤è¼¸å‡º) è¡¨ç¤ºç¨‹å¼åŸ·è¡Œä¸­ç™¼ç”ŸéŒ¯èª¤æ™‚è¼¸å‡ºéŒ¯èª¤è¨Šæ¯çš„åœ°æ–¹ï¼Œé è¨­ä¹Ÿæ˜¯ terminalã€‚\n\u0026gt; è¡¨ç¤ºæŠŠ \u0026gt; å‰æ–¹çš„è¼¸å‡ºéƒ½å°åˆ° \u0026gt; å¾Œæ–¹çš„ç›®æ¨™ã€‚\nè€Œ \u0026gt;\u0026amp; è¡¨ç¤ºæŠŠ \u0026gt;\u0026amp; å‰çš„ file descriptor æŒ‡å‘ \u0026gt;\u0026amp; å¾Œæ–¹çš„ file descriptorï¼Œ\u0026amp; è¡¨ç¤ºç›®æ¨™æ˜¯ file descriptor è€Œä¸æ˜¯æª”æ¡ˆã€‚\n/dev/null æ˜¯å€‹ç‰¹æ®Šçš„ç›®æ¨™ï¼Œä»»ä½•è¼¸å…¥åˆ°å®ƒçš„è¨Šæ¯éƒ½æœƒæ¶ˆå¤±ä¸æœƒè¼¸å‡ºåˆ°ä»»ä½•å…¶ä»–åœ°æ–¹ã€‚\nåœ¨äº†è§£å„éƒ¨åˆ†çš„ä½œç”¨å¾Œï¼Œç¾åœ¨æŠŠå®ƒå€‘çµ„åˆèµ·ä¾†çœ‹ï¼Œcommand 2\u0026gt;\u0026amp;1 \u0026gt; /dev/null è¡¨ç¤ºåŸ·è¡Œ commandï¼ŒæŠŠ stderr è¼¸å‡ºçš„ç›®æ¨™æŒ‡å‘ stdout ç›®å‰è¼¸å‡ºçš„ç›®æ¨™ï¼Œå› ç‚º stdout ç›®å‰æŒ‡å‘çš„ç›®æ¨™æ˜¯ terminalï¼Œæ‰€ä»¥ stderr æŒ‡å‘çš„ç›®æ¨™å°±è®Šæˆ terminalï¼Œæœ€å¾Œ \u0026gt; /dev/null è¡¨ç¤ºæŠŠ stdout è¼¸å‡ºçš„ç›®æ¨™æŒ‡å‘ /dev/nullï¼Œæ‰€ä»¥æœ€çµ‚åŸ·è¡Œçš„çµæœå°±æ˜¯ stderr æœƒè¼¸å‡ºåˆ° terminal è€Œ stdout æœƒè¼¸å‡ºåˆ° /dev/nullã€‚ command \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 å‰‡æ˜¯åŸ·è¡Œ commandï¼Œ\u0026gt; /dev/null æœƒæŠŠ stdout è¼¸å‡ºç›®æ¨™æŒ‡å‘ /dev/nullï¼Œè€Œæœ€å¾Œé¢çš„ 2\u0026gt;\u0026amp;1 æœƒå†æŠŠ stderr è¼¸å‡ºçš„ç›®æ¨™æŒ‡å‘ç›®å‰ stdout çš„è¼¸å‡ºç›®æ¨™ï¼Œæ‰€ä»¥ä¹ŸåŒæ¨£è®Šæˆ /dev/nullï¼Œå› æ­¤æœ€çµ‚åŸ·è¡Œçµæœæœƒæ˜¯ stdout å’Œ stderr éƒ½æœƒè¼¸å‡ºåˆ° /dev/null ä¸­ã€‚\næ‰€ä»¥çµè«–æ˜¯ command 2\u0026gt;\u0026amp;1 \u0026gt; /dev/null ä¾ç„¶æœƒè¼¸å‡ºéŒ¯èª¤è¨Šæ¯åˆ° terminal ä¸Šï¼Œè€Œ command \u0026gt; /dev/null 2\u0026gt;\u0026amp;1 å‰‡ä¸æœƒè¼¸å‡ºä»»ä½•è¨Šæ¯ã€‚\n åƒè€ƒè³‡æ–™ï¼š\n Bash One-Liners Explained, Part III: All about redirections  å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/linux-redirection-operators/"},{"title":"Bitwise Operators","date":"","description":"","body":"ä»¥å‰è¦ºå¾—ä½å…ƒé‚è¼¯æ“ä½œå¾ˆé›£è¨˜ï¼Œä½†æ˜¨å¤©ä»”ç´°çœ‹äº†ä¸€ä¸‹å¾Œçªç„¶äº†è§£åˆ°ä¹‹å‰æ²’æœ‰ç‰¹åˆ¥å»ç†è§£ 0 å’Œ 1 ä»£è¡¨çš„æ„æ€è€Œæ˜¯ç”¨æ­»èƒŒçš„æ–¹å¼ï¼Œæ‰€ä»¥æ‰å®¹æ˜“å¿˜è¨˜è¦å‰‡ã€‚ å…¶å¯¦åªè¦è¨˜ä½ 0 == falseã€1 == true å°±æœƒç™¼ç¾è¦å‰‡å…¶å¯¦å’Œç¨‹å¼ä¸­çš„ \u0026amp;\u0026amp; å’Œ || æ„æ€ç›¸åŒã€‚\né›–ç„¶æˆ‘æƒ³å…¶å¯¦æ‡‰è©²æ˜¯åéä¾†ï¼Œå…ˆæœ‰ \u0026amp; (AND)ã€| (OR) çš„å®šç¾©ï¼Œç¨‹å¼èªè¨€æ‰ç”¨ \u0026amp;\u0026amp; å’Œ || ä¾†ä½œå‡º shortcut logicï¼Œä½†å°åƒæˆ‘é€™ç¨®åŠè·¯ç›´æ¥å­¸ç¨‹å¼èªè¨€çš„äººä¾†èªªï¼Œå€Ÿç”¨ç¨‹å¼èªè¨€çš„èªç¾©ä¾†è¨˜æ†¶æ¯”è¼ƒå®¹æ˜“ã€‚ æ‰€ä»¥ \u0026amp; å’Œ \u0026amp;\u0026amp; ç›¸åŒï¼Œè¡¨ç¤ºè¦å…©é‚Šéƒ½ç‚º true æ‰æœƒè¼¸å‡º trueï¼Œå¦å‰‡ç‚º falseã€‚è€Œ | å’Œ || ç›¸åŒï¼Œåªè¦æœ‰ä¸€é‚Šç‚º true å°±æœƒè¼¸å‡º trueï¼š\n   \u0026amp; 0 1     0 0 0   1 0 1       | 0 1     0 0 1   1 1 1    è€Œ ^ (XOR) è¡¨ç¤ºåªæœ‰å®Œå…¨ç¬¦åˆ OR ä¹Ÿå°±é™¤äº†è¦æœ‰ä¸€é‚Šæ˜¯ true ä»¥å¤–ï¼Œå¦ä¸€é‚Šå¿…é ˆæ˜¯ false æ‰æœƒè¼¸å‡º trueï¼Œè€Œå…©é‚Šéƒ½æ˜¯ true çš„æƒ…æ³ä¸‹ä¾ç„¶è¼¸å‡º falseï¼š\n   ^ 0 1     0 0 1   1 1 0    å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/bitwise-operators/"},{"title":"Java: Comparison method violates its general contract!","date":"","description":"","body":"å‰é™£å­å’Œæœ‹å‹è¨è«–ä¸€å€‹å¥‡å¦™çš„éŒ¯èª¤è¨Šæ¯ï¼Œèªªåœ¨åŸ·è¡Œ Collections.sort(list) æ™‚æœƒå‡ºç¾ã€‚ç¬¬ä¸€çœ¼çœ‹åˆ°é€™å€‹éŒ¯èª¤è¨Šæ¯ Comparison method violates its general contract!ï¼Œè…¦ä¸­åªå†’å‡ºç„¡é™å¤šå€‹å•è™Ÿï¼Œå¿ƒä¸­åªæœ‰ OSï¼šã€Œé€™äº›å·¥ç¨‹å¸«ä»€éº¼æ™‚å€™æ‰èƒ½å¥½å¥½èªªå¥äººè©±\u0026hellip;ã€(è©±èªªä½ è‡ªå·±ä¸ä¹Ÿæ˜¯å·¥ç¨‹å¸«å˜›)ï¼Œæ²’è¾¦æ³•åªå¥½è«‹å‡º Google å¤§ç¥ï¼Œèª°å«æˆ‘å€‘éƒ½æ˜¯ Google å·¥ç¨‹å¸«å˜›ã€‚\nåŸä¾†åœ¨ JDK 1.7 å¾Œå¼•å…¥äº† Tim Sort é€™å€‹æ’åºæ³•ï¼ŒTim Sort æ˜¯ Merge Sort çš„è®Šå‹ä½†æ›´æœ‰æ•ˆç‡ï¼Œè‡³æ–¼ Tim Sort å’Œ Merge Sort å…·é«”çš„æ’åºç´°ç¯€ç‚ºä½•å‰‡ä¸åœ¨æœ¬æ–‡ç¯„åœå…§(å…¶å¯¦æ˜¯æˆ‘è‡ªå·±ä¹Ÿé‚„æ²’ææ¸…æ¥š Tim Sortâ€¦)ã€‚ é›–ç„¶æ¯”è¼ƒæœ‰æ•ˆç‡ï¼Œä½†å°æ–¼æ’åºæ™‚å¦‚ä½•æ¯”è¼ƒè¢«æ’åºå…ƒç´ å¤§å°çš„é‚è¼¯æ­£ç¢ºæ€§å°±æ›´è¦æ±‚ï¼Œè¦èƒ½ä½¿ç”¨ Collections.sort çš„å…ƒç´ å¿…é ˆå¯¦ä½œ Comparable çš„ toCompare methodï¼Œæ ¹æ“š API èªªæ˜ï¼Œå¯¦ä½œ compareTo æ™‚ï¼Œæ¯”è¼ƒå…ƒç´ å¤§å°çš„é‚è¼¯å¿…é ˆç¬¦åˆä¸‹åˆ—åŸå‰‡ï¼š\n ç›¸åæ€§ï¼š A \u0026gt; B æ™‚ï¼Œå¿…é ˆç¬¦åˆ -A \u0026lt; B éå»¶æ€§ï¼šA \u0026gt; B ä¸” B \u0026gt; C æ™‚ï¼Œå¿…é ˆç¬¦åˆ A \u0026gt; C å¿…é ˆç¬¦åˆ A == B æ™‚ï¼ŒA == C ä¸” B == C  å¦‚æœæœ‰é•åé€™ 3 å€‹åŸå‰‡çš„è©±ï¼Œæœ‰å¯èƒ½æœƒåœ¨æ’åºéç¨‹ä¸­æ‹‹å‡º IllegalArgumentException: Comparison method violates its general contract! çš„éŒ¯èª¤è¨Šæ¯ï¼Œä½†é€™é‚Šè¦æ³¨æ„çš„æ˜¯ä¹Ÿåªæ˜¯æœ‰å¯èƒ½ï¼Œæœ‰æ™‚å€™æœƒåœ¨æ¯«ç„¡éŒ¯èª¤çš„æƒ…æ³ä¸‹å®Œæˆæ’åºï¼Œä½†æ­¤æ™‚ä¹Ÿåˆ¥é«˜èˆˆå¾—å¤ªæ—©ï¼Œå¤èªæœ‰äº‘ï¼šæ²‰é»˜éŒ¯èª¤æœ€å¯æ€•â€¦(æˆ‘è‡ªå·±èªªçš„â€¦)ï¼Œåœ¨é•åæ’åºåŸå‰‡çš„æƒ…æ³æ’å‡ºä¾†çš„çµæœï¼Œå¯æƒ³è€ŒçŸ¥æ’åºçš„æ­£ç¢ºæ€§æ˜¯æœ‰å•é¡Œï¼Œä½†å¯æ€•çš„æ˜¯æˆ‘å€‘é€™æ™‚å€™åè€Œä¸çŸ¥é“å•Šï¼Œæ‰€ä»¥çŸ¥éŒ¯èƒ½æ”¹å–„è«å¤§ç„‰ï¼Œä½ çœ‹å­¸ç¨‹å¼é‚„èƒ½å­¸åˆ°äººç”Ÿé“ç†ï¼Œå¤šåˆ’ç®— ğŸ˜†ã€‚\nçŸ¥é“å‡ºç¾éŒ¯èª¤çš„å¯èƒ½åŸå› å¾Œï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å¦‚ä½•æ‰¾å‡ºé‚è¼¯çš„å•é¡Œï¼Œé€™ä¸€é»å…¶å¯¦æ»¿éº»ç…©çš„ï¼Œå› ç‚ºå¯¦ä½œçš„é‚è¼¯å¯èƒ½æœ‰é¡¯è€Œæ˜“è¦‹çš„éŒ¯èª¤ï¼Œä½†ä¹Ÿå¯èƒ½è¦çœ‹å‚³å…¥çš„è³‡æ–™è€Œå®šï¼Œä¸¦ä¸æ˜¯ä»»ä½•è³‡æ–™éƒ½æœ‰å¯èƒ½è®“æ’åºé‚è¼¯é•ååŸå‰‡ï¼Œåƒé€™æ¬¡é‡åˆ°å•é¡Œçš„æ’åºé‚è¼¯ï¼š\n// Element.val æ˜¯ String public int compareTo(Elment e) { if (e == null || e.val == null) { return -1; } if (this.val == null) { return 1; } if (this.val.matches(\u0026#34;\\\\\\\\+d\u0026#34;) \u0026amp;\u0026amp; this.val.matches(\u0026#34;\\\\\\\\+d\u0026#34;)) { return Intger.parseInt(this.val) - Integer.parseInt(e.val); } return this.val.compareTo(e.val); } æˆ‘å€‘ä¾†åˆ†æä¸€ä¸‹ï¼Œé¦–å…ˆ\n å¦‚æœå’Œæ­¤å…ƒç´ æ¯”è¼ƒçš„å…ƒç´  e æ˜¯ null æˆ– e çš„ val æ˜¯ null å°±å›å‚³ 1 è¡¨ç¤º e \u0026gt; æ­¤å…ƒç´  å¦‚æœæ­¤å…ƒç´ æ¯”è¼ƒçš„å…ƒç´  e å’Œ e.val é nullï¼Œä½†æ­¤å…ƒç´ çš„ val ç‚º null å‰‡å›å‚³ 1 è¡¨ç¤º e \u0026lt; æ­¤å…ƒç´   ä¸Šé¢é€™å…©å€‹é‚è¼¯è™•ç†äº†å…ƒç´ çš„ val ç‚º null æˆ–è€…ä¸€èµ·æ¯”è¼ƒçš„å…ƒç´  e ç‚º null æˆ– e.val ç‚º null çš„ç‹€æ³ï¼Œå¾å›å‚³å€¼å¯ä»¥çœ‹å‡ºé€™å€‹é‚è¼¯æ˜¯æƒ³æŠŠ null å€¼å¾€å¾Œæ’åºã€‚\né‚£å¦‚æœæ­¤å…ƒç´ çš„ val å’Œ e.val éƒ½æœ‰å€¼å‘¢? é€™æ™‚å€™å°±å¥—ç”¨ä¸‹é¢çš„é‚è¼¯ï¼š\n ç•¶æ­¤å…ƒç´ çš„ val å’Œ e.val éƒ½æ˜¯ç´”æ•¸å­—çš„å­—ä¸²æ™‚å‰‡ä»¥è½‰æ›æˆæ•¸å­—æ¯”å¤§å° è€Œå¦‚æœæœ‰ä¸€é‚Šçš„ val å­—ä¸²ä¸æ˜¯ç´”æ•¸å­—å‰‡é€²ç›´æ¥å‘¼å« String.compareTo ä»¥å­—ä¸²çš„æ–¹å¼æ¯”è¼ƒã€‚  é€™å¹¾å€‹é‚è¼¯å„åˆ¥ä¾†çœ‹éƒ½æ²’ä»€éº¼å•é¡Œï¼Œæ•¸å­—å°±ç”¨æ•¸å­—æ¯”å¤§å°ï¼Œæœ‰ç‰½æ¶‰åˆ°å­—ä¸²å°±æ”¹ç”¨å­—ä¸²æ–¹å¼æ¯”è¼ƒï¼Œä¹Ÿæœ‰è€ƒæ…®åˆ° null çš„æƒ…æ³ï¼Œä½†æ˜¯æ—¢ç„¶æœ‰é€™ç¯‡æ–‡ç« ç•¶ç„¶å°±æ˜¯å‡ºäº‹å•¦ã€‚\nå¦‚æœæ‚¨å·²ç¶“çœ‹å‡ºå•é¡Œäº†ï¼Œé‚£æˆ‘çœŸå¿ƒä½©æœï¼Œåœ¨ç•¶ä¸‹æƒ³äº†å¾ˆä¹…ä½†æŠŠé™¤éŒ¯çš„ç›®æ¨™é›†ä¸­åœ¨éŒ¯èª¤çš„ null è™•ç†é‚è¼¯æ®µè½ï¼Œç›´åˆ° YouTube ä¸Šå‰›å¥½çœ‹åˆ°æŸåŸ¸æ¼”è¬›ä¸»é¡Œå°±æ˜¯ Java çš„æ’åºå•é¡Œï¼Œè¬›è€…æä¾›äº†ä¸€å€‹æ–¹å¼ä¾† debugï¼Œåœ¨ compareTo è£¡å°‡å…ƒç´ å€¼å°å‡ºä¾†ï¼Œç›´åˆ°ç™¼ç”ŸéŒ¯èª¤è€Œåœä¸‹ä¾†çš„å‰ä¸€åˆ»æ‰€å°å‡ºä¾†çš„æ•¸å€¼æœ‰å¯èƒ½å°±æ˜¯è§¸ç™¼ç•°å¸¸é‚è¼¯çš„è³‡æ–™ï¼š\n// Element.val æ˜¯ String public int compareTo(Elment e) { System.out.println(\u0026#34;this: \u0026#34; + null + \u0026#34;, e: \u0026#34; + (e == null ? \u0026#34;null\u0026#34; : e)); System.out.println(\u0026#34;this.val: \u0026#34; + this.val + \u0026#34;, e.val: \u0026#34; + e.val); if (e == null || e.val == null) { return -1; } if (this.val == null) { return 1; } if (this.val.matches(\u0026#34;\\\\\\\\+d\u0026#34;) \u0026amp;\u0026amp; this.val.matches(\u0026#34;\\\\\\\\+d\u0026#34;)) { return Intger.parseInt(this.val) - Integer.parseInt(e.val); } return this.val.compareTo(e.val); } ç•¶çœ‹åˆ°å°å‡ºä¾†çš„è¨Šæ¯æ™‚ï¼Œçªç„¶é–“è¬é¡Œå…¨éƒ¨éƒ½è§£é–‹äº†(è«‹ä¸‹ BGM)\næˆ‘å°±æ˜¯æƒ³ç”¨åˆ°é€™å¼µåœ–   æœ€çµ‚æŠ“åˆ°çš„å•é¡Œè³‡æ–™æ˜¯ 8ã€19ã€5Z(ç‚ºä¿è­·æ©Ÿå¯†ï¼Œæ­¤è³‡æ–™éå¯¦éš›ç•¶äº‹è³‡æ–™)ï¼Œé€™ä¸‰å€‹å€¼æœ‰ä»€éº¼å•é¡Œå‘¢? æˆ‘å€‘ä¾†åˆ†åˆ¥å¥—ç”¨åˆ°æ’åºé‚è¼¯ä¸Šçœ‹çœ‹ã€‚ é¦–å…ˆæ˜¯ 8 å’Œ 19ï¼Œé€™å…©å€‹å­—ä¸²éƒ½æ˜¯ç´”æ•¸å­—ï¼Œæ‰€ä»¥æˆ‘å€‘æœƒè½‰æˆ int å¾Œæ¯”è¼ƒå¤§å°ï¼Œå¾—åˆ° 8 \u0026lt; 19ã€‚ æ¥è‘—æ˜¯ 8 å’Œ 5Zï¼Œ5Z æ˜¯å­—ä¸²ï¼Œå› æ­¤æˆ‘å€‘æœƒç”¨ \u0026quot;8\u0026quot;.compareTo(\u0026quot;5Z\u0026quot;) çš„æ–¹å¼æ¯”å¤§å°ï¼Œåœ¨ Java ä¸­å­—ä¸²çš„æ’åºæ˜¯å¾æœ€å‰é¢çš„å­—å…ƒé–‹å§‹æ¯”è¼ƒå®ƒè½‰æˆ Unicode å¾Œçš„æ•¸å€¼ï¼Œè€Œ \u0026quot;8\u0026quot; \u0026gt; \u0026quot;5\u0026quot; æ‰€ä»¥å¾—åˆ° 8 \u0026gt; 5Zã€‚ æœ€å¾Œæ˜¯ 5Z å’Œ 19ï¼ŒåŒæ¨£çš„é€™è£¡ç”¨å­—ä¸²çš„æ–¹å¼æ’åºï¼Œå› ç‚º \u0026quot;5\u0026quot; \u0026gt; \u0026quot;1\u0026quot; æ‰€ä»¥å¾—åˆ° 5Z \u0026gt; 19ã€‚ æˆ‘å€‘æŠŠä¸‰å€‹çµæœæ“ºä¸€èµ·çœ‹çœ‹ï¼š\n 8 \u0026lt; 19 8 \u0026gt; 5Z 19 \u0026lt; 5Z çµæœæ˜é¡¯æ˜¯çŸ›ç›¾çš„ï¼Œå¦‚æœ 8 \u0026lt; 19 ä¸” 19 \u0026lt; 5Z é‚£æ‡‰è©²æ˜¯ 8 \u0026lt; 5z æ‰å°ï¼Œæ‰€ä»¥é€™å€‹æ’åºé‚è¼¯é•åäº†ç¬¬ä¸€é …åŸå‰‡ã€‚  ç¶“éå…©å€‹æ™šä¸Šçš„å¥®é¬¥é‹æ°£ä¸éŒ¯åœ°æ‰¾åˆ°äº†å¯¦ä½œé‚è¼¯ä¸Šçš„éŒ¯èª¤ï¼Œåœ¨ debug çš„éç¨‹ä¸­å¾ˆç¥å¥‡çš„æ˜¯åŒæ¨£çš„è³‡æ–™åœ¨æˆ‘é€™é‚Šçš„æ¸¬è©¦ç¨‹å¼ä¸­ä¸æœƒå‡ºç¾éŒ¯èª¤ï¼Œä½†æœ€çµ‚çš„æ’åºçµæœçœ‹èµ·ä¾†æ»¿å¥‡æ€ªçš„ï¼Œä¹Ÿå°è­‰äº†é–‹é ­æåˆ°çš„ï¼Œå¦‚æœæ²’æœ‰é‡åˆ°éŒ¯èª¤ä¸ä¸€å®šæ˜¯å¥½äº‹ï¼Œå› ç‚ºæ’åºçµæœå¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„æ¨£å­ã€‚\nå› ç‚ºä¹‹å‰å¾ˆå°‘è‡ªå·±å¯¦ä½œæ’åºé‚è¼¯ï¼Œé€šå¸¸ç›´æ¥ä»°è³´åŸç”Ÿçš„æ’åºé‚è¼¯æˆ–è€…ç›´æ¥åœ¨ SQL ä¸­å°±å…ˆæ’å¥½ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡é‡ä¸Šé€™å€‹å•é¡Œï¼Œç¾åœ¨æ¯”è¼ƒäº†è§£åœ¨æ’åºå¯¦ä½œä¸Šå¿…é ˆæ³¨æ„çš„é»ï¼Œè¦è€ƒæ…®å¥½ null çš„æƒ…æ³é‚„æœ‰ä¸‰åŸå‰‡çš„éƒ¨åˆ†ï¼Œå¦å¤–éå¸¸æ¨è–¦å»çœ‹çœ‹æ–‡ä¸­æåˆ°çš„æ¼”å½±ç‰‡ï¼Œè¬›è€…ç¤ºç¯„äº†å¾ˆå¤šæ’åºçš„æ–¹å¼å’Œå¯èƒ½å‡ºç¾çš„å¯¦ä½œéŒ¯èª¤ï¼Œé€£çµåœ¨ä¸‹æ–¹ã€‚\nåƒè€ƒè³‡æ–™ï¼š\n Comparison Method Violates Its General Contract! (Part 1) by Stuart Marks Comparison Method Violates Its General Contract! (Part 2) by Stuart Marks  å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/comparison-violation/"},{"title":"Use FreeMarker Template to Output JSON","date":"","description":"","body":"é¦–å…ˆæˆ‘å€‘å…ˆæº–å‚™ä¸€å€‹ FreeMarker çš„ template: test.fltj, fltj æ˜¯æˆ‘å€‘è‡ªå‰µçµ¦ JSON æ ¼å¼ tempalte çš„å‰¯æª”å:\n{ \u0026quot;name\u0026quot;: \u0026quot;test\u0026quot;, ${content} } ${content} å°±æ˜¯æˆ‘å€‘ç­‰æœƒå…’è¦å‹•æ…‹è¨­ç½®çš„éƒ¨åˆ†ã€‚\næ¥è‘—æˆ‘å€‘éœ€è¦å»ºç«‹ FreeMarker çš„ Configruationï¼Œé€™å€‹ Configuration ç†è«–ä¸Šåªéœ€è¦å»ºç«‹ä¸€å€‹ï¼š\nConfiguration configuration = new Configuration(Configuration.VERSION_2_3_25); // é€™è£¡è¨­å®š JSON ç¯„æœ¬çš„è·¯å¾‘  configuration.setClassForTemplateLoading(this.getClass(), \u0026#34;/templates/json-templates\u0026#34;); configuration.setDefaultEncoding(\u0026#34;UTF-8\u0026#34;); configuration.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER); configuration.setLogTemplateExceptions(false); é€™è£¡æˆ‘å€‘ä½¿ç”¨ jackson é€™å€‹ library ä¾†å¹«æˆ‘å€‘æŠŠ Java ç‰©ä»¶è½‰æˆ JSON æ ¼å¼çš„å­—ä¸²ï¼š\nMap\u0026lt;String, Object\u0026gt; data = new HashMap\u0026lt;\u0026gt;(); data.put(\u0026#34;text\u0026#34;, \u0026#34;test message\u0026#34;); data.put(\u0026#34;age\u0026#34;, 23); data.put(\u0026#34;boolean\u0026#34;, true); ObjectMapper mapper = new ObjectMapper(); // writerWithDefaultPrettyPrinter() æœƒæ’ç‰ˆè¼¸å‡ºçš„çµæœ String jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(data); æœ€å¾Œæˆ‘å€‘æŠŠå¾—åˆ°çš„ JSON å­—ä¸²æ›¿æ›æ‰ ${content} çš„éƒ¨åˆ†ï¼š\nMap\u0026lt;String, String\u0026gt; content = new HashMap\u0026lt;\u0026gt;(); content.put(\u0026#34;content\u0026#34;, jsonString); Writer writer = new StringWriter(); Template template = configuration.getTemplate(\u0026#34;test.fltj\u0026#34;); template.process(content, writer); é€™æ¨£å°±æœƒæŠŠæ›¿æ›å¾Œçš„ JSON è¼¸å‡ºåˆ° StringWriter ä¸­ã€‚\nä½†å› ç‚º FreeMarker é è¨­æœƒ escape ç‰¹æ®Šå­—å…ƒï¼Œä¾‹å¦‚ \u0026amp; æœƒæ”¹æˆ \u0026amp;amp;ï¼Œ\u0026quot; æœƒæ”¹æˆ \u0026amp;quot;ï¼Œæ‰€ä»¥ç•¶æˆ‘å€‘è¦ç”¨å‹•æ…‹ç”¢ç”Ÿçš„ JSON å­—ä¸²æ›¿æ›æ‰ ${content} æ™‚ï¼Œè¼¸å‡ºçš„å…§å®¹ä¸­çš„ \u0026quot; éƒ½æœƒè¢«æ”¹æˆ \u0026amp;quot;ï¼ŒFreeMarker å…¶å¯¦é‡å°ä¸åŒé¡å‹çš„è¼¸å‡ºæœ‰å…§å»ºçš„ä¸€äº›æ ¼å¼é¡åˆ¥é è¨­æ˜¯å¦è¦ escape çš„è¡Œç‚ºè¨­å®šï¼Œè€Œ JSON æ ¼å¼çš„é è¨­æ ¼å¼é¡åˆ¥æ˜¯ä¸æœƒ escape çš„ï¼Œå› æ­¤æˆ‘å€‘è¦åšçš„æ˜¯å‘Šè¨´ FreeMarker åªè¦ template å‰¯æª”åæ˜¯ json å°±å¥—ç”¨ JSON æ ¼å¼çš„è¡Œç‚ºï¼Œé€™è£¡è¦ç”¨åˆ° TemplateConfigurationï¼š\nTemplateConfiguration jsonConfiguration = new TemplateConfiguration(); // JSONOutputFormat.INSTANCE å³ JSON æ ¼å¼çš„è™•ç†, ä¸æœƒå» escape æ‰ç‰¹æ®Šå­—å…ƒ jsonConfiguration.setOutputFormat(JSONOutputFormat.INSTANCE); configuration.setTemplateConfigurations( new FirstMatchTemplateConfigurationFactory( new ConditionalTemplateConfigurationFactory( // é€™è£¡è¨­å®šå‰¯æª”åæ˜¯ fltj å°±å¥—ç”¨ JSON æ ¼å¼è¨­å®š  new FileExtentionMatcher(\u0026#34;fltj\u0026#34;), jsonConfiguration) ) ) ) é€™æ¨£è¼¸å‡ºçš„æœ€çµ‚çµæœ JSON å°±ä¸æœƒ escape ç‰¹æ®Šå­—å…ƒäº†ã€‚\n åƒè€ƒè³‡æ–™ï¼š\n Apache FreeMarker document: Output formats Apache FreeMarker document: Associating output formats with templates  å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/freemarker-json/"},{"title":"Leetcode 136. Single Number","date":"","description":"","body":"LeetCode 136. Single Number Easy\né¡Œç›® Given a non-empty array of integers, every element appears twice except for one. Find that single one.\nNote:\nYour algorithm should have a linear runtime complexity. Could you implement it without using extra memory?\nExample 1:\nInput: [2,2,1] Output: 1 Example 2:\nInput: [4,1,2,1,2] Output: 4 è§£æ±ºæ–¹æ³• 1 (My Own Solution) ç”¨æœ€ç¬¨çš„æš´åŠ›æ–¹å¼æ¯æ¬¡å– 1 å€‹å…ƒç´ å’Œå®ƒä»¥å¤–çš„å…ƒç´ æ¯”å°, æ¯”åˆ°é‡è¤‡çš„å°±è·³å‡ºè©²æ¬¡è¿´åœˆç›´åˆ°æ‰¾åˆ°æ²’é‡è¤‡çš„ã€‚ é€™é¡Œå¦‚æœåªæ˜¯è¦æ±‚è§£çš„è©±å¾ˆç°¡å–®ï¼Œé™¤äº†ç”¨å·¢ç‹€å›åœˆå¤–ï¼Œé‚„å¯ä»¥éæ­·é™£åˆ—ç”¨ Map è¨˜éŒ„å…ƒç´ å‡ºç¾å€‹æ¬¡æ•¸å¾Œï¼Œå†å¾ Map ä¸­æ‰¾å‡ºåªç¾åœ¨ä¸€æ¬¡çš„å…ƒç´ ï¼Œä½†é€™äº›ç°¡å–®çš„è§£æ³•éƒ½ä¸ç¬¦åˆé¡å¤–çš„è¦æ±‚ï¼Œä¹Ÿå°±æ˜¯å¿…é ˆåœ¨ $O(N)$ çš„æ™‚é–“è¤‡é›œåº¦ä¸‹ä¸ä½¿ç”¨é¡å¤–çš„ç©ºé–“ï¼Œæ‰€ä»¥å°±ä¸åˆ—å‡ºå…¶ä»–é€™é¡ç°¡å–®è§£æ³•äº†ã€‚\nJava Code class Solution { public int singleNumber(int[] nums) { int singleNumber = nums[0]; for (int i = 0; i \u0026lt; nums.length; i++) { boolean duplicated = false; // æ¨™è¨˜æ­¤æ¬¡æ¯”å°æ˜¯å¦æœ‰é‡è¤‡å…ƒç´   singleNumber = nums[i]; for (int j = 0; j \u0026lt; nums.length; j++) { if (i == j) { // index ç›¸åŒè¡¨ç¤ºç‚ºåŒå€‹å…ƒç´ , ä¸ç”¨æ¯”å°  continue; } else if (nums[i] == nums[j]) { // æ¯”å°åˆ°é‡è¤‡çš„å°±å¯ä»¥è·³å‡ºæ¸›å°‘æ™‚é–“æ¶ˆè€—  duplicated = true; break; } } if (duplicated) { continue; } else { break; } } return singleNumber; } } è§£æ±ºæ–¹æ³•2 (LeeCode Solution) å°ä¸ç†Ÿæ‚‰ä½å…ƒé‹ç®—çš„æˆ‘ä¾†èªªï¼Œé€™å€‹è§£æ³•çœŸçš„æ˜¯æƒ³ç ´é ­ä¹Ÿæƒ³ä¸åˆ°çš„æ–¹æ³•ï¼Œåªèƒ½èªªçœŸçš„é€éé€™é¡Œäº†è§£åˆ°äº†ä½å…ƒé‹ç®—çš„ç‰¹æ®Šæ€§è³ªã€‚ æ­¤è§£æ³•ä½¿ç”¨äº† XOR é‹ç®—ä¾†å¾—åˆ°ç­”æ¡ˆï¼ŒXOR æœ‰ä¸‹åˆ—æ€§è³ªï¼š\n å¦‚æœç”¨ 0 å’Œå…¶ä»–æ•¸å­—ä½œ XOR é‹ç®—å‰‡å¾—åˆ°åŸæ•¸å­—ï¼š $a âŠ• 0 = a$ å¦‚æœç”¨ç›¸åŒæ•¸å­—åš XOR é‹ç®—å‰‡å¾—åˆ° 0ï¼š $a âŠ• a = 0$  å› ç‚º XOR é‹ç®—å…·æœ‰äº¤æ›å¾‹ï¼Œæ‰€ä»¥é †åºå¯ä»¥äº¤æ›ï¼Œå› æ­¤å¯ä»¥æŠŠæ‰€æœ‰æ•¸å­—ä¾åºåš XOR é‹ç®—ï¼Œæœ€å¾Œç•™ä¸‹çš„å³ç‚ºéé‡è¤‡æ•¸å­—ï¼š\n$a âŠ• b âŠ• a = ( a âŠ• a ) âŠ• b = 0 âŠ• b = b$\nä»¥é¡Œç›® [4,1,2,1,2] ç‚ºä¾‹ï¼š\n\\begin{align} \u0026amp;4 âŠ• 1 âŠ• 2 âŠ• 1 âŠ• 2 âŠ• 1\\newline \u0026amp;= 1 âŠ• 1 âŠ• 2 âŠ• 2 âŠ• 4\\newline \u0026amp;= 0 âŠ• 2 âŠ• 2 âŠ• 4\\newline \u0026amp;= 2 âŠ• 2 âŠ• 4\\newline \u0026amp;= 0 âŠ• 4\\newline \u0026amp;= 4\\newline \\end{align}\nJava Code class Solution { public int singleNumber(int[] nums) { int result = 0; for (int i : nums) { result ^= i; } return result; } } å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/leetcode-136/"},{"title":"LeetCode 104. Maximum Depth of Binary Tree","date":"","description":"","body":"LeetCode 104. Maximum Depth of Binary Tree Easy\né¡Œç›® Given a binary tree, find its maximum depth.\nThe maximum depth is the number of nodes along the longest path from the root node down to the farthest leaf node.\nNote: A leaf is a node with no children.\nExample:\nGiven binary tree [3,9,20,null,null,15,7],\n 3 / \\ 9 20 / \\ 15 7 return its depth = 3.\nè§£æ±ºæ–¹æ³• 1 (My Own Solution) æˆ‘å€‘ç”¨ 2 å€‹è®Šæ•¸åˆ†åˆ¥è¨˜éŒ„ç›®å‰æ‰€åœ¨çš„å±¤æ•¸å’Œç›®å‰åˆ°éçš„æœ€å¤§å±¤æ•¸ï¼Œæ¯åˆ°ä¸€å±¤æ™‚å¦‚æœç›®å‰æ‰€åœ¨çš„å±¤æ•¸å¤§æ–¼åˆ°éçš„æœ€å¤§å±¤æ•¸å°±æ›´æ–°æœ€å¤§å±¤æ•¸ã€‚\nJava Code /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { public int maxDepth(TreeNode root) { int depth = 0; // è¨˜éŒ„ç›®å‰æ‰€åœ¨ node çš„æ·±åº¦  int maxDepth = 0; // è¨˜éŒ„ç›®å‰æ‰€åˆ°æœ€æ·±çš„æ·±åº¦  int[] tuple = new int[]{depth, maxDepth}; recTraverse(root, tuple); return tuple[1]; } private void recTraverse(TreeNode root, int[] tuple) { if (root == null) { return; } // recTraverse æ¯å‘¼å«ä¸€æ¬¡è¡¨ç¤ºåˆ°æ–°çš„ä¸€å±¤æ·±åº¦æ‰€ä»¥ depth + 1  tuple[0]++; // å¦‚æœç›®å‰åˆ°é”çš„ depth \u0026gt; maxDepth, maxDepth ç”¨æ–°çš„ depth å–ä»£  if (tuple[0] \u0026gt; tuple[1]) { tuple[1] = tuple[0]; } if (root.left == null \u0026amp;\u0026amp; root.right == null) { return; } if (root.left != null) { recTraverse(root.left, tuple); // å› ç‚ºå¾ä¸‹ä¸€å±¤å›ä¾†, æ‰€ä»¥ depth - 1  tuple[0]--; } if (root.right != null) { recTraverse(root.right, tuple); // å› ç‚ºå¾ä¸‹ä¸€å±¤å›ä¾†, æ‰€ä»¥ depth - 1  tuple[0]--; } } } Go Code /** * Definition for a binary tree node. * type TreeNode struct { * Val int * Left *TreeNode * Right *TreeNode * } */ func maxDepth(root *TreeNode) int { if root == nil { return 0 } maxDepth := recMaxDepth(root, 0, 0) return maxDepth } func recMaxDepth(node *TreeNode, currentDepth int, maxDepth int) int { currentDepth++ if currentDepth \u0026gt; maxDepth { maxDepth = currentDepth } if (node.Left == nil \u0026amp;\u0026amp; node.Right == nil) { return maxDepth } if (node.Left != nil) { maxDepth = recMaxDepth(node.Left, currentDepth, maxDepth) } if (node.Right != nil) { maxDepth = recMaxDepth(node.Right, currentDepth, maxDepth) } return maxDepth } å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/leetcode-104/"},{"title":"H2 Database and SQL Alias Column Name","date":"","description":"","body":"æœ‹å‹å•äº†ä¸€å€‹å¥‡å¦™çš„ç‹€æ³ï¼Œä¸‹é¢é€™å€‹ Spring JPA çš„ NativeQuery å›å‚³çš„ column name æ‡‰è©²æ˜¯ as ä¹‹å¾Œçš„åç¨± (ä»¥ä¸‹ç‚ºæ¸¬è©¦çš„ NativeQueryï¼Œéæœ‹å‹å¯¦éš›åŸ·è¡Œçš„ SQL)ï¼š\nString sql = \u0026#34;select Name as Name, SeqNo as SeqNo from Test where Name = :name\u0026#34;; List\u0026lt;Tuple\u0026gt; result = entityManager.createNativeQuery(sql, Tuple.class).setParameter(\u0026#34;name\u0026#34;, name) .getResultList(); return result; ä¹Ÿå°±æ˜¯ Name å’Œ SeqNoï¼Œä½†è·‘å‡ºä¾†çš„çµæœå»æ˜¯å…¨å¤§å¯«çš„ NAME å’Œ SEQNOï¼š\nè€Œä¸”æˆ‘ä½¿ç”¨ SQLServer æ¸¬è©¦æ™‚ç„¡æ³•é‡ç¾é€™å€‹ç‹€æ³ã€‚ä¸€é–‹å§‹ä»¥ç‚ºæ˜¯ä¸æ˜¯ Spring JPA çš„è¨­å®šå•é¡Œï¼Œä½† Google å¤§ç¥æ²’æœ‰é™ä»€éº¼ç¥æ—¨ï¼Œç¿»äº† Spring JPA çš„æ–‡ä»¶ä¹Ÿæ²’çœ‹åˆ°ä»€éº¼ç›¸é—œçš„è¨­å®šï¼Œæƒ³èªªåªå¥½ç”¨ debug æ¨¡å¼ä¾†è¿½è¹¤ä¸€ä¸‹åˆ°åº•åŸ·è¡Œéç¨‹ä¸­æ˜¯ä¸æ˜¯æœ‰ä»€éº¼åœ°æ–¹æœƒå»ä¿®æ”¹ alias column nameã€‚ åœ¨è¿½è¹¤çš„éç¨‹ä¸­ï¼Œçªç„¶çœ‹åˆ°é€™è¡Œï¼š\né›–ç„¶å’ŒåŸ·è¡Œéç¨‹ç„¡é—œ ğŸ˜…ï¼Œä½† factory.getJdbcServices().getDialect() è®“æˆ‘æƒ³åˆ°æœ‹å‹ç”¨çš„æ˜¯ H2 Databaseï¼Œé¦¬ä¸Šå»å®˜ç¶²æŸ¥äº†ä¸€ä¸‹ç™¼ç¾æœç„¶æ˜¯å› ç‚º H2 é è¨­å°æ–¼æ²’æœ‰ä½¿ç”¨ \u0026quot;\u0026quot; æ‹¬èµ·ä¾†çš„æ¬„ä½åç¨±éƒ½æœƒä¾è¨­å®šè½‰æˆå…¨å¤§å¯«æˆ–å…¨å°å¯«ï¼š\n Name With default settings unquoted names are converted to upper case. There is no maximum name length.\nIdentifiers in H2 are case sensitive by default. Because unquoted names are converted to upper case, they can be written in any case anyway. When both quoted and unquoted names are used for the same identifier the quoted names must be written in upper case. Identifiers with lowercase characters can be written only as a quoted name, they aren\u0026rsquo;t accessible with unquoted names.\nIf DATABASE_TO_UPPER setting is set to FALSE the unquoted names aren\u0026rsquo;t converted to upper case.\nIf DATABASE_TO_LOWER setting is set to TRUE the unquoted names are converted to lower case instead.\nIf CASE_INSENSITIVE_IDENTIFIERS setting is set to TRUE all identifiers are case insensitive.\n æ‰€ä»¥å¦‚æœè¦ä¿æŒ SQL ä¸­çš„å¤§å°å¯«å¿…é ˆç”¨ \u0026quot;\u0026quot; æ‹¬èµ·ä¾†ï¼š\n Quoted Name | \u0026quot; anything \u0026quot; |\nCase of characters in quoted names is preserved as is. Such names can contain spaces. There is no maximum name length. Two double quotes can be used to create a single double quote inside an identifier. With default settings identifiers in H2 are case sensitive.\nExample:\n\u0026ldquo;FirstName\u0026rdquo;\n å› æ­¤å¦‚æœä¸Šé¢çš„ NativeQuery æ”¹å¯«æˆï¼š\nString sql = \u0026#34;select Name as \\\u0026#34;Name\\\u0026#34;, SeqNo as \\\u0026#34;SeqNo\\\u0026#34; from Test where Name = :name\u0026#34;; List\u0026lt;Tuple\u0026gt; result = entityManager.createNativeQuery(sql, Tuple.class).setParameter(\u0026#34;name\u0026#34;, name) .getResultList(); return result; å°±å¯ä»¥æ­£å¸¸å›å‚³ Name å’Œ SeqNoï¼š\nå…¶å¯¦é€™ä»¶äº‹ä¹Ÿè®“æˆ‘åœ¨æ€è€ƒï¼Œä½¿ç”¨åƒ H2 é€™æ¨£çš„ Memory Database é›–ç„¶å¯ä»¥åŠ é€Ÿæ¸¬è©¦ï¼Œä½†ç•¢ç«Ÿå®ƒå’Œæ­£å¼ç·šä¸Šçš„è³‡æ–™åº«ä¸åŒï¼Œé€™æ¨£çš„è©±é€™äº›æ¸¬è©¦æ˜¯å¦èƒ½çœŸå¯¦åæ˜ å‡ºå¯¦éš›çš„ç‹€æ³å‘¢?æˆ–è€…åœ¨ Unit Test æ™‚ç›´æ¥ä½¿ç”¨å¦‚ DBUnit é€™é¡çš„æ¨¡æ“¬å‡è³‡æ–™ï¼Œåæ­£ä½¿ç”¨ H2 æ¨¡æ“¬çš„ä¹Ÿä¸€æ¨£åªæ˜¯å‡è³‡æ–™ï¼Œè€Œåœ¨ Integration Test æ™‚ä½¿ç”¨å’Œæ­£å¼ç’°å¢ƒç›¸åŒçš„è³‡æ–™åº«é€™æ¨£æ‰æ›´æœ‰æ„ç¾©ä¹Ÿä¸ä¸€å®š?\nå¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/sql-and-h2-db/"},{"title":"LeetCode 55. Jump Game","date":"","description":"","body":"LeetCode 55. Jump Game Medium\nGiven an array of non-negative integers nums, you are initially positioned at the first index of the array.\nEach element in the array represents your maximum jump length at that position.\nDetermine if you are able to reach the last index.\nExample 1:\nInput: nums = [2,3,1,1,4] Output: true Explanation: Jump 1 step from index 0 to 1, then 3 steps to the last index. Example 2:\nInput: nums = [3,2,1,0,4] Output: false Explanation: You will always arrive at index 3 no matter what. Its maximum jump length is 0, which makes it impossible to reach the last index. Constraints:\n 1 \u0026lt;= nums.length \u0026lt;= 104 0 \u0026lt;= nums[i] \u0026lt;= 105  è§£æ±ºæ–¹æ³• 1 (My Own Solution) æ ¹æ“šé¡Œç›®çš„èªªæ˜ï¼Œæˆ‘å€‘å¾ç¬¬ 1 å€‹ index å‡ºç™¼ï¼Œå…¶æ•¸å­—ç‚ºå¯èµ°çš„æ­¥æ•¸ï¼Œæ‰€ä»¥åéä¾†å¦‚æœæˆ‘å€‘å¾æœ€å¾Œä¸€å€‹ index é–‹å§‹å¾€å‰ï¼Œåªè¦å‰ 1 å€‹ index çš„å…ƒç´ ä¹Ÿå°±æ˜¯å¯èµ°çš„æ­¥æ•¸å¤§æ–¼æˆ–ç­‰æ–¼å…©å€‹ index é–“çš„è·é›¢å°±è¡¨ç¤ºå¯ä»¥æœ‰è¾¦æ³•èµ°åˆ°ä¸‹ä¸€å€‹ indexï¼Œæˆ‘å€‘å°±å¯ä»¥å†å¾€å‰èµ°ã€‚ ä»¥ Example 1 ç‚ºä¾‹ï¼š\n index 3 çš„æ­¥æ•¸ç‚º 1ï¼Œç­‰æ–¼ index 3 åˆ° index 4 (åŒæ™‚ä¹Ÿæ˜¯çµ‚é»)çš„è·é›¢ 1 è¡¨ç¤ºæœ‰è¾¦æ³•èµ°åˆ°çµ‚é»ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å†å¾€å‰ä¸€å€‹ index æª¢æŸ¥ã€‚ index 2 çš„æ­¥æ•¸ç‚º 1ï¼Œç­‰æ–¼ index 2 åˆ° index 3 çš„è·é›¢ 1ï¼Œå†å¾€å‰ä¸€å€‹ indexã€‚ index 1 çš„æ­¥æ•¸ç‚º 3 å¤§æ–¼ index 1 åˆ° index 2 çš„è·é›¢ 1ï¼Œå†å¾€å‰ä¸€å€‹ indexã€‚ index 0 çš„æ­¥æ•¸ç‚º 2 å¤§æ–¼ index 0 åˆ° index 1 çš„è·é›¢ 1ï¼Œå› ç‚ºå·²ç¶“èµ°åˆ°èµ·é»äº†ï¼Œæ‰€ä»¥ Example 1 çš„é™£åˆ—å¯ä»¥å¾èµ·é»èµ°åˆ°çµ‚é»ã€‚  åŒæ¨£çš„é‚è¼¯å¥—ç”¨åˆ° Exmaple 2 ä¸Š:\n index 3 çš„æ­¥æ•¸ç‚º 0 å°æ–¼ index 3 åˆ° index 4 çš„è·é›¢ 1ï¼Œä½†å› ç‚ºåœ¨ index 3 ä¹‹å‰é‚„æ˜¯å¯èƒ½æœ‰èƒ½èµ°åˆ° index 4 çš„æ­¥æ•¸ï¼Œæ‰€ä»¥æˆ‘å€‘ç¹¼çºŒå¾€å‰æª¢æŸ¥ã€‚ index 2 çš„æ­¥æ•¸ç‚º 1 å°æ–¼ index 2 åˆ° index 4 çš„è·é›¢ 2 å†å¾€å‰ index 1 çš„æ­¥æ•¸ç‚º 2 å°æ–¼ index 1 åˆ°index 4 çš„è·é›¢ 3 å†å¾€ index 0 çš„æ­¥æ•¸ç‚º 3 å°æ–¼ index 0 åˆ° index 4 çš„è·é›¢ 4ï¼Œå› ç‚ºå·²ç¶“æª¢æŸ¥åˆ°èµ·é»äº†ï¼Œæ‰€ä»¥ Example 2 çš„é™£åˆ—æ²’è¾¦æ³•å¾èµ·é»èµ°åˆ°çµ‚é»ã€‚  Java Code class Solution { public boolean canJump(int[] nums) { // è™•ç†é™£åˆ—é•·åº¦ç‚º 1 æ™‚çš„ç‰¹æ®Šæƒ…æ³  if (nums.length == 1) { return true; } int i = nums.length - 2; // å…©å€‹ index é–“çš„è·é›¢  int distance = 1; // å¾å€’æ•¸ç¬¬ 2 å€‹ index é–‹å§‹æª¢æŸ¥  for (; i \u0026gt;= 0; i--) { if (nums[i] \u0026gt;= distance) { // å¦‚æœèµ°åˆ°èµ·é»è¡¨ç¤ºæ­¤é™£åˆ—å¯ä»¥å¾èµ·é»èµ°åˆ°çµ‚é»  if (i == 0) { return true; } // ç•¶è¦æª¢æŸ¥ä¸‹ä¸€å€‹ index æ™‚ï¼Œæª¢æŸ¥è·é›¢é‡è¨­ç‚º 1  distance = 1; continue; } // å¦‚æœæ­¤ index çš„æ­¥æ•¸ä¸æ»¿è¶³æ¢ä»¶ï¼Œå‰‡æª¢æŸ¥ä¸‹ä¸€å€‹ index æ™‚ï¼Œæª¢æŸ¥è·é›¢è¦åŠ  1  distance++; } return i == 0; } }  æ™‚é–“è¤‡é›œåº¦ï¼šå› ç‚ºæ˜¯éæ­·é™£åˆ—ï¼Œæ‰€ä»¥æ™‚é–“è¤‡é›œåº¦ç‚º $O(N)$  è§£æ³• 2 (LeetCode Forum Solution) è§£æ³•æ–¹å¼å’Œè§£æ³• 1 ç›¸åŒï¼Œä½†ç¨‹å¼ç¢¼ç°¡æ½”æ›´å¤šã€‚åŸºæœ¬ä¸Šæ˜¯å°‡è§£æ³• 1 ä¸­çš„ index çš„å…ƒç´ æ˜¯å¦å¤§æ–¼æˆ–ç­‰æ–¼ distance çš„è¨ˆç®—ç›´æ¥ç”¨ index + è©² index çš„å…ƒç´  æ˜¯å¦å¤§æ–¼æˆ–ç­‰æ–¼å¾Œä¸€å€‹ index å–ä»£ï¼ŒåŒæ™‚æœƒç”¨ 1 å€‹ pointer last æŒ‡å‘å¯ä»¥æˆåŠŸèµ°åˆ°å¾Œä¸€å€‹ index çš„ index ç‚ºä½•ï¼Œå¦‚æœæœ€å¾Œ last æŒ‡åˆ° index 0 è¡¨ç¤ºå¯ä»¥å¾èµ·é»èµ°åˆ°çµ‚é»ã€‚\nJava Code class Solution { public boolean canJump(int[] nums) { int last = nums.length - 1; for (int i = nums.length - 2; i \u0026gt;= 0; i--) { // index + index çš„å…ƒç´ å¦‚æœ \u0026gt;= å¾Œ 1 å€‹ index, è¡¨ç¤ºå¯ä»¥å¾é€™é‚Šèµ°åˆ°å¾Œä¸€å€‹ index çš„åœ°æ–¹, æ‰€ä»¥æˆ‘å€‘å¯ä»¥ç¹¼çºŒå¾€å‰æª¢æŸ¥  if (i + nums[i] \u0026gt;= last) { last = i; } } return last == 0; } }  æ™‚é–“è¤‡é›œåº¦ï¼šå› ç‚ºéœ€è¦éæ­·é™£åˆ—ï¼Œæ‰€ä»¥åŒæ¨£ç‚º $O(N)$  è§£æ³• 3 (LeetCode Forum Solution) é€™å€‹è§£æ³•çš„æ€è€ƒæ–¹å¼æ˜¯ï¼Œæˆ‘å€‘å¾èµ·é»é–‹å§‹è¨˜éŒ„è©² index çš„æ­¥æ•¸æœ€é å¯ä»¥åˆ°çš„ index (ç”¨è®Šæ•¸ max è¨˜éŒ„)ï¼Œç„¶å¾Œé–‹å§‹å¾€å¾Œéæ­·ï¼Œå¦‚æœä¸­é–“æœ‰ index çš„æ­¥æ•¸å¯ä»¥æŠŠ max å†å¾€æ›´å¾Œé¢æ¨é€²å°±æ›´æ–° max çš„å€¼ï¼Œä½†å¦‚æœæˆ‘å€‘åœ¨éæ­·çš„éç¨‹ä¸­æ‰€æª¢æŸ¥çš„ index å·²ç¶“è¶…å‡º max æŒ‡å‘çš„ indexï¼Œè¡¨ç¤ºæˆ‘å€‘æœ€é åªèƒ½åˆ° max æ‰€æŒ‡å‘çš„ index è€Œç„¡æ³•åˆ°é”çµ‚é»ã€‚å¦‚æœå¯ä»¥é †åˆ©éæ­·å®Œè¡¨ç¤º max æœ€çµ‚çš„æ•¸å€¼ä¸€å®šæ˜¯ç­‰æ–¼æˆ–å¤§æ–¼çµ‚é»çš„ indexã€‚ ä»¥ Example 1 ç‚ºä¾‹çš„è©±ï¼š\n é–‹å§‹ max = 0ï¼Œèµ·é» index 0 ç‚º 2 æ‰€ä»¥ max = 2 è¡¨ç¤ºæ­¤æ™‚æˆ‘å€‘æœ€é å¯ä»¥åˆ° index 2ã€‚ index 1 ç‚º 3 å¤§æ–¼ max æ‰€ä»¥æ›´æ–° max = 3 è¡¨ç¤ºæ­¤æ™‚æˆ‘å€‘æœ€é å¯ä»¥åˆ° index 3ã€‚ index 2 ç‚º 1 å°æ–¼ max æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨ä½¿ç”¨å®ƒã€‚ index 3 ç‚º 1 å°æ–¼ max æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨ä½¿ç”¨å®ƒã€‚ index 4 ç‚º 4 å¤§æ–¼ maxï¼ŒåŒæ™‚æˆ‘å€‘ä¹Ÿéæ­·åˆ°çµ‚é»äº†ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥æˆåŠŸåœ°å¾èµ·é»èµ°åˆ°çµ‚é»ã€‚  ä»¥ Example 2 ç‚ºä¾‹çš„è©±ï¼š\n é–‹å§‹ max = 0ï¼Œèµ·é» index 0 ç‚º 3 æ‰€ä»¥ max = 3 è¡¨ç¤ºæ­¤æ™‚æˆ‘å€‘æœ€é å¯ä»¥åˆ° index 3ã€‚ index 1 ç‚º 2 å°æ–¼ max æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨ä½¿ç”¨å®ƒã€‚ index 2 ç‚º 1 å°æ–¼ max æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨ä½¿ç”¨å®ƒã€‚ index 3 ç‚º 0 å°æ–¼ max æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨ä½¿ç”¨å®ƒã€‚ index 4 ç‚º 4 ä½†å› ç‚ºæ­¤æ™‚æˆ‘å€‘éæ­·åˆ°çš„ index å·²ç¶“è¶…é max æŒ‡å‘çš„ index äº†ï¼Œè¡¨ç¤ºæˆ‘å€‘æœ€é åªèƒ½èµ°åˆ° max æŒ‡å‘çš„ index 3ï¼Œå› æ­¤ä¸å¯èƒ½å¾èµ·é»èµ°åˆ°çµ‚é»ã€‚  Java Code class Solution { public boolean canJump(int[] nums) { int max = 0; for (int i = 0; i \u0026lt; nums.length; i++) { if (i \u0026gt; max) { return false; } max = Math.max(i + nums[i], max); } return true; } }  æ™‚é–“è¤‡é›œåº¦ï¼šéœ€è¦éæ­·é™£åˆ—ï¼Œæ‰€ä»¥æ™‚é–“è¤‡é›œåº¦ç‚º $O(N)$  å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/leetcode-55/"},{"title":"LeetCode 344. Reverse String","date":"","description":"","body":"LeetCode 344. Reverse String Easy\né¡Œç›® Write a function that reverses a string. The input string is given as an array of characters char[].\nDo not allocate extra space for another array, you must do this by modifying the input array in-place with O(1) extra memory.\nYou may assume all the characters consist of printable ascii characters.\nExample 1:\nInput: [\u0026quot;h\u0026quot;,\u0026quot;e\u0026quot;,\u0026quot;l\u0026quot;,\u0026quot;l\u0026quot;,\u0026quot;o\u0026quot;] Output: [\u0026quot;o\u0026quot;,\u0026quot;l\u0026quot;,\u0026quot;l\u0026quot;,\u0026quot;e\u0026quot;,\u0026quot;h\u0026quot;] Example 2:\nInput: [\u0026quot;H\u0026quot;,\u0026quot;a\u0026quot;,\u0026quot;n\u0026quot;,\u0026quot;n\u0026quot;,\u0026quot;a\u0026quot;,\u0026quot;h\u0026quot;] Output: [\u0026quot;h\u0026quot;,\u0026quot;a\u0026quot;,\u0026quot;n\u0026quot;,\u0026quot;n\u0026quot;,\u0026quot;a\u0026quot;,\u0026quot;H\u0026quot;] è§£æ±ºæ–¹æ³•1 (My Own Solution) ç”¨å…©å€‹æŒ‡æ¨™ start å’Œ end åˆ†åˆ¥ç”±é™£åˆ—ç¬¬ä¸€å€‹å’Œæœ€å¾Œä¸€å€‹å…ƒç´ é–‹å§‹äº¤æ›ä½ç½®ï¼Œä¸¦ä¸”å½¼æ­¤æ…¢æ…¢é è¿‘ï¼Œå› ç‚ºå­—ä¸²é•·åº¦å¯èƒ½ç‚ºå¥‡æ•¸æˆ–å¶æ•¸ï¼Œæ‰€ä»¥ç›´åˆ° start \u0026gt;= end ç‚ºæ­¢ (ç•¶ç‚ºå¥‡æ•¸æ™‚ start == endï¼Œç•¶ç‚ºå¶æ•¸æ™‚å…©è€…æœƒäº¤éŒ¯æ‰€ä»¥ç”¨ start \u0026gt; end åˆ¤æ–·)ã€‚\nJava Code class Solution { public void reverseString(char[] s) { int end = s.length - 1; for (int start = 0; start \u0026lt; s.length; start++) { if (start \u0026gt;= end) { return; } char temp = s[start]; s[start] = s[end]; s[end] = temp; end--; } } } å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/leetcode-344/"},{"title":"å¾ Server ç«¯è¼¸å‡ºä¸‹è¼‰çš„æª”åå«æœ‰ä¸­æ–‡æœƒè®Šæˆäº‚ç¢¼å•é¡Œ","date":"","description":"","body":"æœ‹å‹é‡åˆ°ä¸€å€‹å•é¡Œæ˜¯å¦‚æœæª”åæœ‰ä¸­æ–‡ï¼Œåœ¨ç€è¦½å™¨ä¸‹è¼‰æ™‚æª”åæœƒè®Šæˆäº‚ç¢¼ã€‚\né¦–å…ˆï¼Œç€è¦½å™¨æ˜¯ç”¨ header ä¸­çš„ Content-Disposition=attachment;filename=${æª”å} åšç‚ºé è¨­çš„ä¸‹è¼‰æª”åï¼Œä½† header ä¸­ä¸¦ä¸æ”¯æ´ UTF-8 ç·¨ç¢¼ï¼Œæ‰€ä»¥å¦‚æœåœ¨ç¨‹å¼ä¸­ç›´æ¥æ‹¿ä¸­æ–‡æª”åæ”¾åœ¨ filename ä¸­å°±æœƒè®Šæˆäº‚ç¢¼ã€‚\nè§£æ±ºæ–¹æ³•æ˜¯å…ˆæŠŠæª”å encode æˆ URL-encoded ç·¨ç¢¼ï¼Œåœ¨ Java ä¸­å¯ä»¥ç”¨ URLEncoder è™•ç†ï¼š\nresponse.setHeader(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment;filename=\u0026#34; + URLEncoder.encode(fileName, \u0026#34;UTF-8\u0026#34;); å¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/garbled-file-name/"},{"title":"About","date":"","description":"","body":"ä¸€åå……æ»¿å¥½å¥‡å¿ƒçš„å°å°å·¥ç¨‹å¸«ï¼Œå­¸ç¿’ç¨‹å¼å–œæ­¡äº†è§£æ¢ç©¶åŸç†ã€‚å› ç‚ºè‡ªçŸ¥ç¾æ„Ÿæ¬ çŸ¥æ‰€ä»¥èˆˆè¶£é›†ä¸­åœ¨å¾Œç«¯ç³»çµ±ä¸Šï¼Œè¦ºå¾—çœ‹åˆ°å¤§ç³»çµ±ä¸­æ¯å€‹çµ„ä»¶èƒ½å®Œç¾åœ°å¥‘åˆé‹ä½œæ˜¯ä»¶éå¸¸ç¾å¦™çš„äº‹ã€‚ é€™è£¡è¨˜éŒ„è‘—å„ç¨®å­¸ç¿’è¨˜éŒ„ã€å·¥ä½œä¸Šé‡åˆ°çš„å„ç¨®å•é¡Œå’Œè§£æ³•ï¼Œå¦‚æœæœ‰éŒ¯èª¤çš„åœ°æ–¹æ­¡è¿æŒ‡æ•™ã€‚\nEmail: blackdiz@gmail.com\nGithub: https://github.com/blackdiz\n","ref":"/about/"},{"title":"LeetCode 1. Two Sum","date":"","description":"","body":"LeetCode 1. Two Sum Easy\nGiven an array of integers, return indices of the two numbers such that they add up to a specific target.\nYou may assume that each input would have exactly one solution, and you may not use the same element twice.\nExample:\nGiven nums = [2, 7, 11, 15], target = 9, Because nums[0] + nums[1] = 2 + 7 = 9, return [0, 1]. è§£æ±ºæ–¹æ³• 1 (My Own Solution) ç›´è¦ºçš„è©±å°±æ˜¯æš´åŠ›è§£æ³•ï¼Œç”¨æ‰€æœ‰å…ƒç´ çµ„åˆå…©å…©ç›¸åŠ ç›´åˆ°æ‰¾å‡ºåŠ ç¸½ç­‰æ–¼ target ç‚ºæ­¢ã€‚\nJava Code class Solution { public int[] twoSum(int[] nums, int target) { for (int i = 0; i \u0026lt; nums.length; i++) { int num1 = nums[i]; for (int j = i + 1; j \u0026lt; nums.length; j++) { if (num1 + nums[j] == target) { return new int[]{i, j}; } } } return new int[0]; } } æ™‚é–“è¤‡é›œåº¦ï¼šæ¯å€‹å…ƒç´ éƒ½è¦éæ­·é™£åˆ—ä¸€æ¬¡ï¼Œæ‰€ä»¥æœ‰ $N$ å€‹å…ƒç´ æ™‚ç‚º $O(N^2)$ã€‚\nè§£æ±ºæ–¹æ³• 2 (My Own Solution) ä½¿ç”¨ Map å°‡ {æ•¸å­— : index} å„²å­˜èµ·ä¾†ï¼Œåœ¨éæ­·é™£åˆ—æ™‚ç›´æ¥å¾ Map å–å·®å€¼ï¼Œå¦‚æœæœ‰å–åˆ°å‰‡å›å‚³å…©è€…çš„ indexã€‚\nJava Code class Solution { public int twoSum(int[] nums, int target) { Map\u0026lt;Integer, Integer\u0026gt; records = new HashMap\u0026lt;\u0026gt;(); for (int i = 0; i \u0026lt; nums.length; i++) { records.put(nums[i], i); } for (int i = 0; i \u0026lt; nums.length; i++) { int num1 = nums[i]; int num2 = target - num1; // ç¬¬ 2 å€‹æ¢ä»¶é¿å…æ‰¾åˆ°è‡ªå·±ï¼Œä¾‹å¦‚ 6 - 3 = 3 çš„æƒ…æ³  if (records.get(num2) != null \u0026amp;\u0026amp; records.get(num2) != i) { return new int[]{i, records.get(num2)}; } } return new int[0]; } } æ™‚é–“è¤‡é›œåº¦ï¼šéæ­· 2 æ¬¡ï¼Œæ‰€ä»¥ $N$ å€‹å…ƒç´ æ™‚ç‚º $O(N)$ ç©ºé–“è¤‡é›œåº¦ï¼šéœ€è¦ç”¨ Map è¨˜éŒ„é™£åˆ—ä¸­çš„æ•¸å­—å’Œ indexï¼Œæ‰€ä»¥ç‚º $O(N)$\nè§£æ±ºæ–¹æ³• 3 (LeetCode Solution) è§£æ±ºæ–¹æ³• 2 å¯ä»¥å†é€²ä¸€æ­¥å„ªåŒ–ï¼Œå› ç‚ºæˆ‘å€‘æ˜¯ç”¨å·®å€¼å» Map ä¸­ç¢ºèªæœ‰ç„¡å’Œå·®å€¼ç›¸åŒçš„å…ƒç´ å­˜åœ¨ï¼Œæ‰€ä»¥å¦‚æœ num1 + num2 = target åœ¨é‡åˆ° num1 æ™‚ï¼Œæˆ‘å€‘å³ä½¿ç”¨å·®å€¼ num2 å–ä¸åˆ°ä¹Ÿå°‡ num1 å’Œå®ƒçš„ index å­˜å…¥ Map ä¸­ï¼Œåœ¨é‡åˆ° num2 æ™‚ç”¨å·®å€¼ num1 å°±å¯ä»¥å–åˆ° num1 çš„ indexï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¸ç”¨å…ˆå°‡é™£åˆ—ä¸­çš„å…ƒç´ å­˜å…¥ Map ä¸­ï¼Œè€Œæ˜¯ä¸€é‚Šéæ­·ä¸€é‚Šå­˜å…¥ Mapã€‚ ä¾‹å¦‚ [2, 7, 3, 4] è€Œ target = 9ï¼Œéæ­·æ™‚å…ˆé‡åˆ° 2ï¼Œå·®å€¼ç‚º 7ï¼Œæ­¤æ™‚ Map ä¸­æ²’æœ‰ 7 ä½†æˆ‘å€‘å…ˆæŠŠ {2: 0} å­˜å…¥ Mapï¼Œè€Œç¹¼çºŒéæ­·ä¸‹å»é‡åˆ° 7ï¼Œå·®å€¼ç‚º 2ï¼Œæ­¤æ™‚æˆ‘å€‘å¯ä»¥åœ¨ Map å–åˆ° {2:0}ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ [1, 0]ã€‚\nJava Code class Solution { public int twoSum(int[] nums, int target) { Map\u0026lt;Integer, Integer\u0026gt; records = new HashMap\u0026lt;\u0026gt;(); for (int i = 0; i \u0026lt; nums.length; i++) { int num1 = nums[i]; int num2 = target - num1; if (records.get(num2) != null) { return new int[]{i, records.get(num2)}; } records.put(num1, i); } return new int[0]; } } Go Code func twoSum(nums []int, target int) []int { record := make(map[int]int) for i := 0; i \u0026lt; len(nums); i++ { n1, ok := record[target - nums[i]]; if (ok) { return []int{i, n1} } record[nums[i]] = i } return []int{} } æ™‚é–“è¤‡é›œåº¦ï¼šéœ€è¦éæ­· $N$ å€‹å…ƒç´ ï¼Œæ‰€ä»¥ç‚º $O(N)$ ç©ºé–“è¤‡é›œåº¦ï¼šéœ€è¦å»ºç«‹å„²å­˜ $N$ å€‹å…ƒç´ çš„ Mapï¼Œæ‰€ä»¥ç‚º $O(N)$\nå¦‚æœæœ‰ä»€éº¼æƒ³æ³•æˆ–éœ€è¦æŒ‡æ­£çš„åœ°æ–¹ï¼Œæ­¡è¿æ‚¨ç•™è¨€æˆ–ä¾†ä¿¡ ğŸ˜„\n","ref":"/blog/leetcode-1/"}]