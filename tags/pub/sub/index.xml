<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pub/Sub on Blackdiz's Garage</title><link>https://blackdiz.github.io/tags/pub/sub/</link><description>Recent content in Pub/Sub on Blackdiz's Garage</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><atom:link href="https://blackdiz.github.io/tags/pub/sub/index.xml" rel="self" type="application/rss+xml"/><item><title>GCP Pub/Sub Local Emulator</title><link>https://blackdiz.github.io/blog/pubsub-local-emulator/</link><pubDate>Thu, 26 Aug 2021 23:38:30 +0800</pubDate><guid>https://blackdiz.github.io/blog/pubsub-local-emulator/</guid><description>Pub/Sub 是 GCP 上類似 Message Queue 的服務，為了測試方便，Google 提供了可在本機端啟動的模擬程式讓開發者可以不用連上 GCP 直接使用本機的 Pub/Sub service。
Pub/Sub 的基本概念是我們在 Pub/Sub 上建立一個 Topic，Topic 算是訊息通道的概念，接著我們要在程式中建立 Subscription 去訂閱這個 Topic，每當有訊息進入 Topic 時，有訂閱的程式就接收這個訊息進行處理。
Subscription 分為 Pull Subscription 和 Push Subscription，Pull Subscription 是程式必須主動去跟 Topic 取回訊息來處理，而 Push Subscription 則是我們在建立 Subscription 時預先指定一個 HTTPS 的 URL，當有訊息進到 Topic 時，Pub/Sub 會將訊息推送到這個 URL，更詳細的說明可以參照 Subscriber overview。
除了 Topic 和 Subscription，最後我們需要 Publisher 負責產生訊息並傳送到 Topic 中，整個架構圖為：
Picture from Google Cloud 這篇算是記錄一下整個安裝過程和使用 Java 程式連接本機 Pub/Sub 的程式片段。
安裝 Google Cloud SDK 首先需要安裝 Google Cloud SDK，目前只有在 MAC 上安裝，所以下面只簡單記錄一下 MAC 下的安裝步驟，其他環境可以到 Google Cloud SDK Guide 有詳細的說明。</description></item></channel></rss>