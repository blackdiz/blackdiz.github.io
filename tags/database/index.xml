<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>database on Blackdiz's Garage</title><link>https://blackdiz.github.io/tags/database/</link><description>Recent content in database on Blackdiz's Garage</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><lastBuildDate>Tue, 08 Jun 2021 07:59:46 +0800</lastBuildDate><atom:link href="https://blackdiz.github.io/tags/database/index.xml" rel="self" type="application/rss+xml"/><item><title>H2 Database and SQL Alias Column Name</title><link>https://blackdiz.github.io/blog/sql-and-h2-db/</link><pubDate>Tue, 08 Jun 2021 07:59:46 +0800</pubDate><guid>https://blackdiz.github.io/blog/sql-and-h2-db/</guid><description>æœ‹å‹å•äº†ä¸€å€‹å¥‡å¦™çš„ç‹€æ³ï¼Œä¸‹é¢é€™å€‹ Spring JPA çš„ NativeQuery å›å‚³çš„ column name æ‡‰è©²æ˜¯ as ä¹‹å¾Œçš„åç¨± (ä»¥ä¸‹ç‚ºæ¸¬è©¦çš„ NativeQueryï¼Œéæœ‹å‹å¯¦éš›åŸ·è¡Œçš„ SQL)ï¼š
String sql = &amp;#34;select Name as Name, SeqNo as SeqNo from Test where Name = :name&amp;#34;; List&amp;lt;Tuple&amp;gt; result = entityManager.createNativeQuery(sql, Tuple.class).setParameter(&amp;#34;name&amp;#34;, name) .getResultList(); return result; ä¹Ÿå°±æ˜¯ Name å’Œ SeqNoï¼Œä½†è·‘å‡ºä¾†çš„çµæœå»æ˜¯å…¨å¤§å¯«çš„ NAME å’Œ SEQNOï¼š
è€Œä¸”æˆ‘ä½¿ç”¨ SQLServer æ¸¬è©¦æ™‚ç„¡æ³•é‡ç¾é€™å€‹ç‹€æ³ã€‚ä¸€é–‹å§‹ä»¥ç‚ºæ˜¯ä¸æ˜¯ Spring JPA çš„è¨­å®šå•é¡Œï¼Œä½† Google å¤§ç¥æ²’æœ‰é™ä»€éº¼ç¥æ—¨ï¼Œç¿»äº† Spring JPA çš„æ–‡ä»¶ä¹Ÿæ²’çœ‹åˆ°ä»€éº¼ç›¸é—œçš„è¨­å®šï¼Œæƒ³èªªåªå¥½ç”¨ debug æ¨¡å¼ä¾†è¿½è¹¤ä¸€ä¸‹åˆ°åº•åŸ·è¡Œéç¨‹ä¸­æ˜¯ä¸æ˜¯æœ‰ä»€éº¼åœ°æ–¹æœƒå»ä¿®æ”¹ alias column nameã€‚ åœ¨è¿½è¹¤çš„éç¨‹ä¸­ï¼Œçªç„¶çœ‹åˆ°é€™è¡Œï¼š
é›–ç„¶å’ŒåŸ·è¡Œéç¨‹ç„¡é—œ ğŸ˜…ï¼Œä½† factory.getJdbcServices().getDialect() è®“æˆ‘æƒ³åˆ°æœ‹å‹ç”¨çš„æ˜¯ H2 Databaseï¼Œé¦¬ä¸Šå»å®˜ç¶²æŸ¥äº†ä¸€ä¸‹ç™¼ç¾æœç„¶æ˜¯å› ç‚º H2 é è¨­å°æ–¼æ²’æœ‰ä½¿ç”¨ &amp;quot;&amp;quot; æ‹¬èµ·ä¾†çš„æ¬„ä½åç¨±éƒ½æœƒä¾è¨­å®šè½‰æˆå…¨å¤§å¯«æˆ–å…¨å°å¯«ï¼š</description></item></channel></rss>